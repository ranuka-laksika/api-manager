"use strict";(this.webpackChunk_wso2apim_devportal=this.webpackChunk_wso2apim_devportal||[]).push([[7984],{1579:(e,t,a)=>{var n=a(24994);t.A=void 0;var r=n(a(42032)),i=a(74848);t.A=(0,r.default)((0,i.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-4.65 4.65c-.2.2-.51.2-.71 0L7 13h3V9h4v4z"}),"CloudDownloadRounded")},63126:(e,t,a)=>{var n=a(24994);t.A=void 0;var r=n(a(42032)),i=a(74848);t.A=(0,r.default)((0,i.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5 8-5zm-8-7L4 6h16z"}),"MailOutline")},80295:(e,t,a)=>{a.d(t,{A:()=>$});var n=a(96540),r=a(11848),i=a(5556),l=a.n(i),s=a(33551),o=a(92728),c=a(84798),m=a(73357),p=a(58065),d=a(38798),u=a(51989),g=a(30198),A=a.n(g),E=a(12831),f=a(15235),y=a(30222),b=a(19337),v=a(56779),h=a(53036);a(84712);const w=["node","inline","className","children"];function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},x.apply(null,arguments)}const S="View",T={root:`${S}-root`,docTitle:`${S}-docTitle`,docBadge:`${S}-docBadge`,button:`${S}-button`,displayURL:`${S}-displayURL`,displayURLLink:`${S}-displayURLLink`,docSummary:`${S}-docSummary`,fileAvailability:`${S}-fileAvailability`},D=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${T.root}`]:{paddingTop:t.spacing(2),paddingBottom:t.spacing(2)},[`& .${T.docTitle}`]:{fontWeight:100,fontSize:50,color:t.palette.grey[500]},[`& .${T.docBadge}`]:{padding:t.spacing(1),background:t.palette.primary.main,position:"absolute",top:0,marginTop:-22,color:t.palette.getContrastText(t.palette.primary.main)},[`& .${T.button}`]:{padding:t.spacing(2),marginTop:t.spacing(2)},[`& .${T.displayURL}`]:{padding:t.spacing(2),marginTop:t.spacing(2),background:t.palette.grey[200],color:t.palette.getContrastText(t.palette.grey[200]),display:"flex"},[`& .${T.displayURLLink}`]:{paddingLeft:t.spacing(2)},[`& .${T.docSummary}`]:{marginTop:t.spacing(2),color:t.palette.text.primary},[`& .${T.fileAvailability}`]:{marginTop:t.spacing(1),marginLeft:t.spacing(.8)}}})),M=(0,n.lazy)((()=>Promise.all([a.e(4680),a.e(2226)]).then(a.bind(a,80567))));function k(e){const{doc:t,apiId:a,intl:r}=e,{api:i}=(0,n.useContext)(h._),[l,d]=(0,n.useState)(""),[g,S]=(0,n.useState)(!1),k=new u.A,{skipHtml:$}=A().app.markdown,N=A().app.markdown.syntaxHighlighterProps||{},{syntaxHighlighterDarkTheme:I}=A().app.markdown;return(0,n.useEffect)((()=>{"MARKDOWN"!==t.sourceType&&"INLINE"!==t.sourceType||k.getInlineContentOfDocument(a,t.documentId).then((e=>{let{text:t}=e;Object.keys(i).forEach((e=>{const a=new RegExp("___"+e+"___","g");t=t.replace(a,i[e])})),d(t)})).catch((e=>{})),"FILE"===t.sourceType&&k.getFileForDocument(a,t.documentId).then((()=>{S(!0)})).catch((()=>{S(!1)}))}),[e.doc]),n.createElement(D,null,t.summary&&"_overview"!==t.otherTypeName&&n.createElement(s.A,{variant:"body1",className:T.docSummary},t.summary),"MARKDOWN"===t.sourceType&&n.createElement("div",{className:"markdown-content-wrapper"},n.createElement(n.Suspense,{fallback:n.createElement(m.A,null)},n.createElement(M,{skipHtml:$,children:l,remarkPlugins:[E.A],components:{code(e){let{node:t,inline:a,className:r,children:i}=e,l=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,w);const s=/language-(\w+)/.exec(r||"");return!a&&s?n.createElement(f.A,x({children:String(i).replace(/\n$/,""),style:I?y.A:b.A,language:s[1],PreTag:"div"},l,N)):n.createElement("code",x({className:r},l),i)}}}))),"INLINE"===t.sourceType&&n.createElement(v.A,{html:l}),"URL"===t.sourceType&&n.createElement("a",{className:T.displayURL,href:t.sourceUrl,target:"_blank",rel:"noreferrer"},t.sourceUrl,n.createElement(o.A,{className:T.displayURLLink},"open_in_new")),"FILE"===t.sourceType&&n.createElement(c.A,{variant:"contained",className:T.button,disabled:!g,onClick:()=>{k.getFileForDocument(a,t.documentId).then((e=>{(e=>{let t="";const a=e.headers["content-disposition"];if(a&&-1!==a.indexOf("attachment")){const e=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(a);null!=e&&e[1]&&(t=e[1].replace(/['"]/g,""))}const n=e.headers["content-type"],r=new Blob([e.data],{type:n});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,t);else{const e=window.URL||window.webkitURL,a=e.createObjectURL(r);if(t){const e=document.createElement("a");void 0===e.download?window.location=a:(e.href=a,e.download=t,document.body.appendChild(e),e.click())}else window.location=a;setTimeout((()=>{e.revokeObjectURL(a)}),100)}})(e,document)})).catch((e=>{}))}},n.createElement(p.A,{id:"Apis.Details.Documents.View.btn.download",defaultMessage:"Download"}),n.createElement(o.A,null,"arrow_downward")),"FILE"===t.sourceType&&!g&&n.createElement(s.A,{className:T.fileAvailability},n.createElement(p.A,{id:"Apis.Details.Documents.View.file.availability",defaultMessage:"No file available"})))}k.propTypes={classes:l().shape({}).isRequired,doc:l().shape({}).isRequired,apiId:l().string.isRequired,intl:l().shape({formatMessage:l().func}).isRequired};const $=(0,d.Ay)(k)},82763:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ut});var n=a(96540),r=a(11848),i=a(44675),l=a(6442),s=a(58065),o=a(54625),c=a(15001),m=a(34339),p=a(99020),d=a(60111),u=a(69067),g=a(69554),A=a(33551),E=a(14977),f=a(61523),y=a(36575),b=a(70691),v=a(58168),h=a(98587),w=a(54533),x=a(75659),S=a(25669),T=a(38413),D=a(31609);function M(e){return(0,D.Ay)("MuiTableContainer",e)}(0,T.A)("MuiTableContainer",["root"]);var k=a(74848);const $=["className","component"],N=(0,r.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),I=n.forwardRef((function(e,t){const a=(0,S.b)({props:e,name:"MuiTableContainer"}),{className:n,component:r="div"}=a,i=(0,h.A)(a,$),l=(0,v.A)({},a,{component:r}),s=(e=>{const{classes:t}=e;return(0,x.A)({root:["root"]},M,t)})(l);return(0,k.jsx)(N,(0,v.A)({ref:t,as:r,className:(0,w.A)(s.root,n),ownerState:l},i))})),R=I;var L=a(53723),P=a(23049),O=a(37636),C=a(56434),U=a(34680),B=a(12831),_=a(53036),G=a(10573),z=a(69933),F=a(14492),W=a(38798),j=a(30198),q=a.n(j),V=a(28939),H=a(64680),K=a(56655),Q=a(19455),Y=a(60766);const X="EmbedCode",J={paper:`${X}-paper`,codeIcon:`${X}-codeIcon`,code:`${X}-code`,iconStyle:`${X}-iconStyle`},Z=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${J.paper}`]:{position:"absolute",width:400,backgroundColor:t.palette.background.paper,border:"2px solid #000",boxShadow:t.shadows[5],padding:t.spacing(2,4,3)},[`& .${J.codeIcon}`]:{cursor:"pointer",color:t.palette.getContrastText(t.custom.infoBar.background)},[`& .${J.code}`]:{background:"#efefef",color:"cc0000",border:"solid 1px #ccc",padding:t.spacing(1)},[`& .${J.iconStyle}`]:{position:"absolute",top:60,right:30}}}));function ee(){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}const te=(0,W.Ay)((function(e){const{intl:t}=e,[a]=n.useState(ee),[r,i]=n.useState(!1),[l,o]=n.useState(!1),c=new URL(window.location);c.searchParams.set("widget",!0);const m='<iframe width="450" height="120" src="'+c+'" frameBorder="0" allowFullScreen title="Embed API" />';return n.createElement(Z,null,n.createElement(H.A,{className:J.codeIcon,onClick:()=>{i(!0)}}),n.createElement(V.A,{open:r,onClose:()=>{i(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},n.createElement("div",{style:a,className:J.paper},n.createElement("h2",{id:"simple-modal-title"},n.createElement(s.A,{id:"Apis.Details.Social.EmbedCode",defaultMessage:"Embed"})),n.createElement("div",{className:J.code},n.createElement("code",null,m)),n.createElement(K.A,{title:l?t.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):t.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),placement:"right",className:J.iconStyle},n.createElement(Q.A,{id:"copy-to-clipbord-icon","aria-label":"Copy to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(m).then((o(!0),void setTimeout((()=>o(!1)),2e3)))}},n.createElement(Y.A,{color:"secondary"},"file_copy"))))))}));var ae=a(63126);const ne="Social",re={socialLink:`${ne}-socialLink`,oneFlex:`${ne}-oneFlex`,socialLinkWrapper:`${ne}-socialLinkWrapper`,divider:`${ne}-divider`,codeIcon:`${ne}-codeIcon`},ie=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${re.socialLink}`]:{display:"inline-block","& img":{width:32,marginRight:t.spacing(1)}},[`& .${re.oneFlex}`]:{flex:1},[`& .${re.socialLinkWrapper}`]:{marginTop:16,display:"flex",alignItems:"center",paddingRight:t.spacing(2),"& > div":{display:"inline-block"}},[`& .${re.divider}`]:{display:"inline-block",borderRight:"solid 1px #ccc",marginLeft:t.spacing(1),marginRight:t.spacing(1),height:30},[`& .${re.codeIcon}`]:{cursor:"pointer",color:t.palette.getContrastText(t.custom.infoBar.background)}}})),le=(0,W.Ay)((function(){const{api:e}=(0,n.useContext)(_._),{name:t}=e,a=encodeURI(window.location),r=(0,i.A)(),[l,s]=[e.additionalProperties.find((e=>"slack_url"===e.name)),e.additionalProperties.find((e=>"github_repo"===e.name))],{custom:{social:{showSharing:{active:o,showFacebook:c,showReddit:m,showTwitter:p,showEmbed:d,showEmail:u}}}}=r;return n.createElement(ie,null,n.createElement("div",{className:re.oneFlex}),n.createElement("div",{className:re.socialLinkWrapper},l&&n.createElement(n.Fragment,null,n.createElement("a",{className:re.socialLink,id:"Slack",href:l.value,target:"_blank",rel:"noopener noreferrer",title:"Slack"},n.createElement("img",{src:`${j.app.context}/site/public/images/social/slack.png`,alt:"Slack"}))),s&&n.createElement(n.Fragment,null,n.createElement("a",{className:re.socialLink,id:"github",href:s.value,target:"_blank",rel:"noopener noreferrer",title:"GitHub"},n.createElement("img",{src:`${j.app.context}/site/public/images/social/github.jpg`,alt:"GitHub"}))),o&&(l||s)&&n.createElement("div",{className:re.divider}),o&&c&&n.createElement("a",{className:re.socialLink,id:"facebook",href:`http://www.facebook.com/sharer.php?u=${a}`,target:"_blank",rel:"noopener noreferrer",title:"Facebook"},n.createElement("img",{src:`${j.app.context}/site/public/images/social/facebook.png`,alt:"Facebook"})),o&&p&&n.createElement("a",{className:re.socialLink,id:"Twitter",href:`http://twitter.com/share?url=${a}&text=${t}`,target:"_blank",rel:"noopener noreferrer",title:"Twitter"},n.createElement("img",{src:`${j.app.context}/site/public/images/social/twitter.png`,alt:"Twitter"})),o&&m&&n.createElement("a",{className:re.socialLink,id:"Reddit",href:`http://www.reddit.com/submit?url=${a}&title=${t}`,target:"_blank",rel:"noopener noreferrer",title:"Reddit"},n.createElement("img",{src:`${j.app.context}/site/public/images/social/reddit.png`,alt:"Reddit"})),o&&d&&n.createElement(n.Fragment,null,n.createElement("div",{className:re.divider}),n.createElement(te,null)),o&&u&&n.createElement(n.Fragment,null,n.createElement("div",{className:re.divider}),n.createElement("a",{href:`mailto:?Subject=${t}&body=Link+:+${a}"`,className:re.codeIcon},n.createElement(ae.A,null)))))}));var se=a(8843),oe=a(32997),ce=a(84712),me=a(61914),pe=a(85877),de=a(51989),ue=a(62861),ge=a(80295),Ae=a(12390),Ee=a(5556),fe=a.n(Ee),ye=a(92728),be=a(81385),ve=a(57555),he=a(84798),we=a(56347),xe=a(47419),Se=a(20973),Te=a(15327),De=a(46252),Me=a(36632),ke=a(73357);function $e(e){const{completed:t,errors:a,inProgress:r,children:i,completedMessage:l,inProgressMessage:o}=e;let c,m=i;if(t?(c="success",l&&(m=l)):r?(c="info",o&&(m=o)):c="warning",a)if(c="error",a.response){const{body:e}=a.response;m=n.createElement(n.Fragment,null,n.createElement("b",null,"[",e.code,"]")," ",":",e.description)}else m=n.createElement(n.Fragment,null,n.createElement(s.A,{id:"Apis.Listing.TaskState.generic.error.prefix",defaultMessage:"Error while"})," ",o);return n.createElement(n.Fragment,null,n.createElement(p.Ay,{item:!0,xs:12},n.createElement(Me.A,{icon:r?n.createElement(ke.A,{size:20,thickness:2}):null,variant:a?"standard":"plain",severity:c},m)))}function Ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(a),!0).forEach((function(t){Re(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ne(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Re(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Le=new de.A,Pe={subscribe:{inProgress:!0,completed:!1,errors:!1},prepare:{inProgress:!1,completed:!1,errors:!1},generate:{inProgress:!1,completed:!1,errors:!1}},Oe=(e,t)=>{const{name:a,status:n}=t;return"reset"===a?Pe:Ie(Ie({},e),{},{[a]:Ie(Ie({},e[a]),n)})};function Ce(){const e=oe.A.getUser(),{api:t,subscribedApplications:a,applicationsAvailable:r,updateSubscriptionData:o}=(0,n.useContext)(_._),c=r.filter((e=>"DefaultApplication"===e.label)),m=c.length>0?c[0]:null,[d,g]=(0,n.useReducer)(Oe,Pe),[E,f]=(0,n.useState)(!1),y=(0,l.A)(),b=(0,we.W6)(),v=(0,i.A)(),h=(0,Te.A)(v.breakpoints.down("sm")),w=t&&(t.type===ue.A.API_TYPES.WS||t.type===ue.A.API_TYPES.WEBSUB||t.type===ue.A.API_TYPES.SSE||t.type===ue.A.API_TYPES.ASYNC),x=t.lifeCycleStatus&&"prototyped"===t.lifeCycleStatus.toLowerCase(),S=async(e,t)=>{let a;g({name:t,status:{inProgress:!0}});try{a=await e}catch(e){console.error(e),g({name:t,status:{errors:e}})}return g({name:t,status:{inProgress:!1,completed:!0}}),a},T=async()=>{await o(),w?b.push("/apis/"+t.id+"/definition"):b.push("/apis/"+t.id+"/api-console")};Object.values(d).map((e=>e.completed)).reduce(((e,t)=>t&&e));const D=Object.values(d).map((e=>e.errors)).find((e=>!1!==e)),M=w?n.createElement(he.A,{variant:"outlined",color:"primary",size:"small",classes:{root:{minWidth:120},label:{whiteSpace:"nowrap"}},onClick:T},n.createElement(s.A,{id:"Apis.Details.GoToTryOut.btn.view.definition",defaultMessage:"View Definition"})):n.createElement(he.A,{variant:"contained",color:"primary",size:"medium",sx:{whiteSpace:"nowrap"},onClick:T,"aria-label":"Go to Try Out page"},n.createElement(s.A,{id:"Apis.Details.GoToTryOut.btn.tryout",defaultMessage:"Try Out"}));return!m||a.length>0||t.advertiseInfo.advertised||t.gatewayVendor&&"wso2"!==t.gatewayVendor||!e||w||x?n.createElement(n.Fragment,null,M):n.createElement(n.Fragment,null,n.createElement(he.A,{onClick:async()=>{let e=null;t.tiers&&t.tiers.length>0?e=t.tiers[0].tierName:b.push("/apis/"+t.id+"/test"),f(!0);const a=await S((async()=>Le.getKeyManagers().then((e=>{const t={keyType:"SANDBOX",supportedGrantTypes:[],callbackUrl:"",additionalProperties:{},keyManager:""},a=[];let n;if(e.body.list.map((e=>a.push(e))),a.length>0){const e=a.filter((e=>"Resident Key Manager"===e.name));n=e.length>0?e[0]:a[0]}try{t.keyManager=n.id,t.supportedGrantTypes=n.availableGrantTypes.filter((e=>"urn:ietf:params:oauth:grant-type:token-exchange"!==e)),(n.availableGrantTypes.includes("implicit")||n.availableGrantTypes.includes("authorization_code"))&&(t.callbackUrl="http://localhost")}catch(e){ce.A.error(y.formatMessage({id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.error.keymanager",defaultMessage:"Error while selecting the key manager"}))}return t})).catch((e=>{})))(),"prepare");await S((async(e,t)=>{const a=await De.A.get(t);(await a.getKeys(e.keyType)).size>0||a.generateKeys(e.keyType,e.supportedGrantTypes,e.callbackUrl,e.additionalProperties,e.keyManager).then((e=>("CREATED"===e.keyState||"REJECTED"===e.keyState?ce.A.error(y.formatMessage({id:"Apis.Details.GoToTryOut.error.keymanager",defaultMessage:"Key Generation is Blocked."})):console.log("Keys generated successfully with ID : "+e),e))).catch((e=>{const{status:t}=e;404===t&&ce.A.error(y.formatMessage({id:"Apis.Details.GoToTryOut.error.404",defaultMessage:"Resource not found."}))}))})(a,m.value),"generate"),await S(Le.subscribe(t.id,m.value,e),"subscribe")},variant:"contained",color:"primary",size:"medium","aria-label":"Try Out the API",sx:{whiteSpace:"nowrap"}},n.createElement(s.A,{id:"Apis.Details.GoToTryOut.btn.tryout",defaultMessage:"Try Out"})),n.createElement(V.A,{"aria-label":"Preparing to Try Out the API",sx:{display:"flex",alignItems:"center",justifyContent:"center"},open:E,closeAfterTransition:!0,BackdropComponent:xe.A,BackdropProps:{timeout:500},role:"status"},n.createElement(Se.A,{in:E},n.createElement(u.A,{bgcolor:"background.paper",borderRadius:"borderRadius",width:h?.8:1/4,sx:{outline:"none",bgcolor:"background.paper",transform:"translate(-50%, -50%)",position:"absolute",top:"50%",left:"50%",borderRadius:4},p:2},n.createElement(p.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"center"},n.createElement($e,{completed:d.subscribe.completed,errors:d.subscribe.errors,inProgress:d.subscribe.inProgress,completedMessage:n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.subscribe.complete.success",defaultMessage:"API subscribe to DefaultApplication successfully!"}),inProgressMessage:n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.subscribe.inprogress",defaultMessage:"API subscribing to DefaultApplication ..."})},n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.subscribe.complete",defaultMessage:"API subscribe to DefaultApplication"})),n.createElement($e,{completed:d.prepare.completed,errors:d.prepare.errors,inProgress:d.prepare.inProgress,completedMessage:n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.prepare.complete",defaultMessage:"Getting ready to generate keys"}),inProgressMessage:n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.prepare.inprogress",defaultMessage:"Gathering information to generate keys ..."})},n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.prepare.complete",defaultMessage:"Getting ready to generate keys"})),n.createElement($e,{completed:d.generate.completed,errors:d.generate.errors,inProgress:d.generate.inProgress,completedMessage:n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.generate.complete",defaultMessage:"Consumer key and secret generated successfully!"}),inProgressMessage:n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.generate.inprogress",defaultMessage:"Generating Consumer key and secret ..."})},n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.key.secret",defaultMessage:"Consumer key and secret"})),D?n.createElement(p.Ay,{item:!0,xs:12},n.createElement(he.A,{onClick:()=>{f(!1),g({name:"reset"})},variant:"outlined"},n.createElement(s.A,{id:"Apis.Details.GoToTryOut.continue.on.close",defaultMessage:"Close"}))):n.createElement(n.Fragment,null,n.createElement(p.Ay,{item:!0,xs:12},n.createElement(A.A,{variant:"caption"},n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.final.message",defaultMessage:'All set to try out. Use the "Generate Keys" button to get an access token while you are on the Try Out page.'}))),n.createElement(p.Ay,{item:!0,xs:12},n.createElement(u.A,{display:"flex",pr:4},n.createElement(u.A,{flex:1}),M))))))))}const Ue="SolaceEndpoints",Be={root:`${Ue}-root`,input:`${Ue}-input`,avatar:`${Ue}-avatar`,iconStyle:`${Ue}-iconStyle`,sectionTitle:`${Ue}-sectionTitle`},_e=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${Be.root}`]:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:`solid 1px ${t.palette.grey[300]}`,"& .MuiInputBase-root:before,  .MuiInputBase-root:hover":{borderBottom:"none !important",color:t.palette.primary.main},"& .MuiSelect-select":{color:t.palette.primary.main,paddingLeft:t.spacing()},"& .MuiInputBase-input":{color:t.palette.primary.main},"& .material-icons":{fontSize:16,color:`${t.palette.grey[700]} !important`},borderRadius:10,marginRight:t.spacing()},[`& .${Be.input}`]:{marginLeft:t.spacing(1),flex:1},[`& .${Be.avatar}`]:{width:30,height:30,background:"transparent",border:`solid 1px ${t.palette.grey[300]}`},[`& .${Be.iconStyle}`]:{cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:"#9c9c9c"}},[`& .${Be.sectionTitle}`]:{color:"#424242",fontSize:"0.85rem",marginRight:20,fontWeight:400}}}));function Ge(){const{api:e}=(0,n.useContext)(_._),[t,a]=(0,n.useState)(!1),[r,i]=(0,n.useState)(null),o=(0,l.A)();return(0,n.useEffect)((()=>{const t=[];e.asyncTransportProtocols&&(e.asyncTransportProtocols.map((e=>(t.push(JSON.parse(e)),null))),i(t))}),[e]),n.createElement(_e,null,"solace"===e.gatewayType&&n.createElement(p.Ay,{container:!0,spacing:2,xs:12},n.createElement(p.Ay,{item:!0,spacing:2,xs:2},n.createElement(A.A,{variant:"subtitle2",component:"label",gutterBottom:!0,align:"left",className:Be.sectionTitle},n.createElement(s.A,{id:"Apis.Details.protocols.and.endpoints",defaultMessage:"Protocols & Endpoints"}))),n.createElement(p.Ay,{item:!0,spacing:2,xs:10},n.createElement(Ce,null)),n.createElement(p.Ay,{item:!0,spacing:2,xs:12},n.createElement(p.Ay,{container:!0,spacing:2,xs:12},n.createElement(p.Ay,{item:!0,spacing:2,xs:12},e.endpointURLs.map((e=>n.createElement(A.A,{component:"p",variant:"subtitle2"},e.environmentDisplayName)))),n.createElement(p.Ay,{item:!0,spacing:2,xs:12},r&&r.map((e=>n.createElement(p.Ay,{container:!0,spacing:2,xs:12},n.createElement(p.Ay,{item:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"15px"}},n.createElement(A.A,{component:"p",variant:"body1"},n.createElement(s.A,{id:"Apis.Details.NewOverview.Endpoints.blank",defaultMessage:"-"}))),n.createElement(p.Ay,{item:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"15px"}},n.createElement(g.A,{label:(0,ve.mf)(e.protocol),"data-testid":(0,ve.mf)(e.protocol)+"-label",color:"primary",style:{width:"120px"}})),n.createElement(p.Ay,{xs:9,item:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"15px"}},n.createElement(m.A,{id:"gateway-envirounment",component:"form",className:Be.root},n.createElement(Ae.Ay,{className:Be.input,inputProps:{"aria-label":"api url"},value:e.endPointUrl}),n.createElement(be.A,{className:Be.avatar,sizes:30},n.createElement(K.A,{title:t?o.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):o.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:Be.iconStyle},n.createElement(Q.A,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(e.endPointUrl).then((()=>(a(!0),void setTimeout((function(){a(!1)}),2e3))))}},n.createElement(ye.A,{color:"secondary"},"file_copy"))))))))))))))}Ge.propTypes={classes:fe().shape({}).isRequired,intl:fe().shape({}).isRequired};const ze=Ge;var Fe=a(17681),We=a(53846),je=a(71543);const qe="Environments",Ve={root:`${qe}-root`,input:`${qe}-input`,avatar:`${qe}-avatar`,iconStyle:`${qe}-iconStyle`,sectionTitle:`${qe}-sectionTitle`},He=(0,r.Ay)(u.A)((e=>{let{theme:t}=e;return{[`& .${Ve.root}`]:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:`solid 1px ${t.palette.grey[300]}`,"& .MuiInputBase-root:before,  .MuiInputBase-root:hover":{borderBottom:"none !important",color:t.palette.primary.main},"& .MuiSelect-select":{color:t.palette.primary.main,paddingLeft:t.spacing()},"& .MuiInputBase-input":{color:t.palette.primary.main},"& .material-icons":{fontSize:16,color:`${t.palette.grey[700]} !important`},borderRadius:10,marginRight:t.spacing()},[`& .${Ve.input}`]:{marginLeft:t.spacing(1),flex:1},[`& .${Ve.avatar}`]:{width:30,height:30,background:"transparent",border:`solid 1px ${t.palette.grey[300]}`},[`& .${Ve.iconStyle}`]:{cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:"#9c9c9c"}},[`& .${Ve.sectionTitle}`]:{color:"#424242",fontSize:"0.85rem",marginRight:20,fontWeight:400}}}));function Ke(e){const{selectedEndpoint:t,updateSelectedEndpoint:a}=e,{api:r,api:{advertiseInfo:i}}=(0,n.useContext)(_._),[o,c]=(0,n.useState)(!1),p=(0,l.A)(),g=()=>{c(!0),setTimeout((function(){c(!1)}),2e3)};return n.createElement(He,{display:"flex",flexDirection:"column",width:"100%"},n.createElement(u.A,{mr:5,display:"flex","area-label":"API URL details",alignItems:"center",width:"100%",flexDirection:"row"},t&&(!i||!i.advertised)&&n.createElement(n.Fragment,null,n.createElement(A.A,{variant:"subtitle2",component:"label",for:"gateway-envirounment",gutterBottom:!0,align:"left",className:Ve.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Environments.label.url",defaultMessage:"URL"})),n.createElement(m.A,{id:"gateway-envirounment",component:"form",className:Ve.root},r.endpointURLs.length>1&&n.createElement(n.Fragment,null,n.createElement(We.A,{variant:"standard",value:t.environmentName,onChange:a,"aria-label":"Select the Gateway Environment"},r.endpointURLs.map((e=>n.createElement(Fe.A,{value:e.environmentName},e.environmentDisplayName||e.environmentName)))),n.createElement(d.A,{height:"GRAPHQL"===r.type&&(t.URLs.ws||t.URLs.wss)?80:30})),n.createElement(u.A,{display:"flex",flexDirection:"column",width:"100%"},n.createElement(u.A,{py:.5,display:"flex",alignItems:"center",width:"100%",flexDirection:"row"},n.createElement(K.A,{title:n.createElement(A.A,{color:"inherit"},"GRAPHQL"===r.type?p.formatMessage({defaultMessage:"Gateway HTTP URL for GraphQL Queries and Mutations",id:"Apis.Details.Environments.GraphQL.HTTP.Gateway.URL"}):p.formatMessage({defaultMessage:"Gateway URL",id:"Apis.Details.Environments.Gateway.URL"})),placement:"left-start",arrow:!0},n.createElement(Ae.Ay,{className:Ve.input,inputProps:{"aria-label":"api url"},value:t.URLs.https||t.URLs.http||t.URLs.wss||t.URLs.ws,"data-testid":"http-url"})),n.createElement(be.A,{className:Ve.avatar,sizes:30},n.createElement(K.A,{title:o?p.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):p.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:Ve.iconStyle},n.createElement(Q.A,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(t.URLs.https||t.URLs.http||t.URLs.wss||t.URLs.ws).then(g())}},n.createElement(ye.A,{color:"secondary"},"file_copy"))))),"GRAPHQL"===r.type&&(t.URLs.ws||t.URLs.wss)&&n.createElement(n.Fragment,null,n.createElement(je.A,{sx:{opacity:.2}}),n.createElement(u.A,{pt:.5,display:"flex",alignItems:"center",width:"100%",flexDirection:"row"},n.createElement(n.Fragment,null,n.createElement(K.A,{title:n.createElement(A.A,{color:"inherit"},p.formatMessage({defaultMessage:"Gateway Websocket URL for GraphQL Subscriptions",id:"Apis.Details.Environments.GraphQL.WS.Gateway.URL"})),placement:"left-start",arrow:!0},n.createElement(Ae.Ay,{className:Ve.input,inputProps:{"aria-label":"api url"},value:t.URLs.wss||t.URLs.ws,"data-testid":"websocket-url"})),n.createElement(be.A,{className:Ve.avatar,sizes:30},n.createElement(K.A,{title:o?p.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):p.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:Ve.iconStyle},n.createElement(Q.A,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(t.URLs.wss||t.URLs.ws).then(g())}},n.createElement(ye.A,{color:"secondary"},"file_copy")))))))))),i&&i.advertised&&(i.apiExternalProductionEndpoint||i.apiExternalSandboxEndpoint)&&n.createElement(n.Fragment,null,n.createElement(A.A,{variant:"subtitle2",component:"label",for:"external-endpoint-url",gutterBottom:!0,align:"left",className:Ve.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Environments.externalEndpoint.label.url",defaultMessage:"URL"})),n.createElement(m.A,{id:"external-endpoint-url",component:"form",className:Ve.root},n.createElement(u.A,{display:"flex",flexDirection:"column",width:"100%"},n.createElement(u.A,{py:.5,display:"flex",alignItems:"center",width:"100%",flexDirection:"row"},n.createElement(K.A,{title:n.createElement(A.A,{color:"inherit"},p.formatMessage({defaultMessage:"External Production Endpoint",id:"Apis.Details.Environments.apiExternalProductionEndpoint"})),placement:"left-start",arrow:!0},n.createElement(Ae.Ay,{className:Ve.input,inputProps:{"aria-label":"api url"},value:i.apiExternalProductionEndpoint})),n.createElement(be.A,{className:Ve.avatar,sizes:30},n.createElement(K.A,{title:o?p.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):p.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:Ve.iconStyle},n.createElement(Q.A,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(i.apiExternalProductionEndpoint).then(g())}},n.createElement(ye.A,{color:"secondary"},"file_copy"))))),i.apiExternalSandboxEndpoint&&n.createElement(n.Fragment,null,n.createElement(je.A,{sx:{opacity:.2}}),n.createElement(u.A,{pt:.5,display:"flex",alignItems:"center",width:"100%",flexDirection:"row"},n.createElement(n.Fragment,null,n.createElement(K.A,{title:n.createElement(A.A,{color:"inherit"},p.formatMessage({defaultMessage:"External Sandbox Endpoint",id:"Apis.Details.Environments.apiExternalSandboxEndpoint"})),placement:"left-start",arrow:!0},n.createElement(Ae.Ay,{className:Ve.input,inputProps:{"aria-label":"api url"},value:i.apiExternalSandboxEndpoint})),n.createElement(be.A,{className:Ve.avatar,sizes:30},n.createElement(K.A,{title:o?p.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):p.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:Ve.iconStyle},n.createElement(Q.A,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(i.apiExternalSandboxEndpoint).then(g())}},n.createElement(ye.A,{color:"secondary"},"file_copy")))))))))),!t&&i&&i.advertised&&!(i.apiExternalProductionEndpoint||i.apiExternalSandboxEndpoint)&&n.createElement(A.A,{variant:"subtitle2",component:"p",gutterBottom:!0,align:"left",className:Ve.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Environments.label.noendpoint",defaultMessage:"No endpoints yet."})),n.createElement(Ce,null)),(!r.advertiseInfo||!r.advertiseInfo.advertised)&&n.createElement(u.A,{ml:8,alignItems:"center",mt:1},t&&n.createElement(A.A,{variant:"caption"},(()=>{const{defaultVersionURLs:e}=t;return e&&(e.https||e.http||e.ws||e.wss)?n.createElement(n.Fragment,null,`\n            ${p.formatMessage({id:"Apis.Details.Environments.default.url",defaultMessage:"( Default Version ) "})}\n            ${e.https||e.http||e.ws||e.wss}`,n.createElement(K.A,{title:o?p.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):p.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:Ve.iconStyle},n.createElement(Q.A,{"aria-label":"Copy the Default Version URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(e.https||e.http||e.ws||e.wss).then(g())}},n.createElement(ye.A,{color:"secondary"},"file_copy")))):null})())))}Ke.propTypes={classes:fe().shape({}).isRequired,intl:fe().shape({}).isRequired};const Qe=Ke;var Ye=a(9694),Xe=a(49799),Je=a(68881),Ze=a(57873),et=a(82241);const tt="OverviewDocuments",at={root:`${tt}-root`,iconClass:`${tt}-iconClass`,boxBadge:`${tt}-boxBadge`,subscriptionBox:`${tt}-subscriptionBox`,linkStyle:`${tt}-linkStyle`,subscriptionTop:`${tt}-subscriptionTop`,resourceWrapper:`${tt}-resourceWrapper`,actionPanel:`${tt}-actionPanel`,linkToTest:`${tt}-linkToTest`,emptyBox:`${tt}-emptyBox`,listWrapper:`${tt}-listWrapper`,listItemStyle:`${tt}-listItemStyle`,listItemIcon:`${tt}-listItemIcon`,listItemPrimary:`${tt}-listItemPrimary`},nt=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${at.root}`]:{padding:t.spacing(3),maxWidth:t.custom.contentAreaWidth},[`& .${at.iconClass}`]:{marginRight:10,color:t.palette.secondary.main},[`& .${at.boxBadge}`]:{background:t.palette.grey.A400,color:t.palette.getContrastText(t.palette.grey.A400),fontSize:t.typography.h5.fontSize,padding:t.spacing(1),width:30,height:30,marginRight:20,textAlign:"center"},[`& .${at.subscriptionBox}`]:{paddingLeft:t.spacing(2)},[`& .${at.linkStyle}`]:{color:t.palette.getContrastText(t.palette.background.default),fontSize:t.typography.fontSize},[`& .${at.subscriptionTop}`]:{display:"flex",flexDirection:"row",alignItems:"center"},[`& .${at.resourceWrapper}`]:{height:192,overflow:"auto"},[`& .${at.actionPanel}`]:{justifyContent:"flex-start"},[`& .${at.linkToTest}`]:{textDecoration:"none"},[`& .${at.emptyBox}`]:{background:"#ffffff55",color:"#444",border:"solid 1px #fff",padding:t.spacing(2),marginTop:50},[`& .${at.listWrapper}`]:{padding:0,margin:0,width:"100%"},[`& .${at.listItemStyle}`]:{padding:0,margin:0},[`& .${at.listItemIcon}`]:{minWidth:30,color:"#BBBEBC66"},[`& .${at.listItemPrimary}`]:{fontSize:"14px"}}}));function rt(e){const[t,a]=(0,n.useState)([]),r=(0,l.A)(),{apiId:i}=e,o=(0,we.W6)();return(0,n.useEffect)((()=>{(new de.A).getDocumentsByAPIId(i).then((e=>{e.obj.list.length>0&&a(e.obj.list)})).catch((e=>{const{status:t}=e;404===t&&ce.A.error(r.formatMessage({id:"Apis.Details.Overview.documents.error.occurred",defaultMessage:"Error occurred"}))}))}),[]),0===t.length?n.createElement(nt,null,n.createElement(p.Ay,{container:!0,className:at.root,spacing:2},n.createElement(p.Ay,{item:!0,xs:12},n.createElement("div",{className:at.emptyBox},n.createElement(A.A,{variant:"body2"},n.createElement(s.A,{id:"Apis.Details.Overview.documents.no.content",defaultMessage:"No Documents Available"})))))):t.length>0&&n.createElement(nt,null,n.createElement(Xe.A,{component:"nav","aria-label":"Available document list",className:at.listWrapper},t.map(((e,t)=>t<=1&&n.createElement(Je.Ay,{button:!0,onClick:()=>{return t=e.documentId,void o.push("/apis/"+i+"/documents/"+t);var t},className:at.listItemStyle,key:e.name},n.createElement(Ze.A,{classes:{root:at.listItemIcon}},n.createElement(ye.A,null,"insert_drive_file")),n.createElement(et.A,{primary:e.name,classes:{primary:at.listItemPrimary}}))))))}rt.propTypes={classes:fe().shape({}).isRequired,theme:fe().shape({}).isRequired};const it=rt;var lt=a(1579),st=a(94877),ot=a(86663);const ct=function(e){const{selectedEndpoint:t}=e,{api:a}=(0,n.useContext)(_._),r=new de.A,i=(0,l.A)(),o=st.A.getCookieWithoutEnvironment("WSO2_AM_TOKEN_1_Default"),[m,p]=(0,n.useState)(!1),{location:d}=window,{app:{customUrl:{tenantDomain:g}}}=q();let A="";if("null"!==g)A=g;else if(d){const{tenant:e}=ot.parse(d.search);e&&(A=e)}const E=A,f=e=>{e.preventDefault(),r.getWsdlClient().downloadWSDLForEnvironment(a.id,t.environmentName).then((e=>{st.A.downloadFile(e)})).catch((e=>{}))},y=e=>{e.preventDefault(),r.getGraphQLSchemaByAPIId(a.id).then((e=>{const t=a.provider+"-"+a.name+"-"+a.version+".graphql";st.A.downloadFile(e,t)})).catch((e=>{}))},b=e=>{let n;e.preventDefault(),n=t.environmentName?r.getSwaggerByAPIIdAndEnvironment(a.id,t.environmentName):r.getSwaggerByAPIId(a.id),n.then((e=>{st.A.downloadFile(e)})).catch((e=>{console.log(e),ce.A.error(i.formatMessage({id:"Apis.Details.Environments.download.swagger.error",defaultMessage:"Error downloading the Swagger"}))}))},v=e=>{e.preventDefault(),r.getAsyncApiSpecificationByAPIIdAndEnvironment(a.id,t.environmentName).then((e=>{st.A.downloadFile(e)})).catch((e=>{console.error(e),ce.A.error(i.formatMessage({id:"Apis.Details.Environments.download.asyncapi.error",defaultMessage:"Error downloading the AsyncAPI Specification"}))}))};return"SOAP"===a.type?n.createElement(K.A,{title:n.createElement(s.A,{id:"Apis.Details.Environments.download.wsdl",defaultMessage:"WSDL"}),placement:"right",sx:{cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":e=>({fontSize:18,color:e.palette.secondary.main})}},n.createElement("a",{onKeyDown:f,onClick:f,className:e=>({fontSize:14,color:e.palette.primary.main,display:"flex"})},n.createElement(lt.A,{sx:{marginRight:1}}),n.createElement(s.A,{id:"Apis.Details.Environments.download.wsdl.text",defaultMessage:"Download WSDL"}))):"HTTP"===a.type||"SOAPTOREST"===a.type?n.createElement(u.A,{display:"flex",alignItems:"center"},n.createElement(K.A,{title:n.createElement(s.A,{id:"Apis.Details.Environments.download.swagger",defaultMessage:"Swagger"}),placement:"right",sx:e=>({cursor:"pointer","& .material-icons":{fontSize:18,color:e.palette.secondary.main}})},n.createElement(c.A,{onClick:b,onKeyDown:b,sx:e=>({fontSize:14,color:e.palette.primary.main,display:"flex",textDecoration:"none"}),id:"swagger-download-btn",variant:"body2"},n.createElement(lt.A,{sx:{mt:.5,mr:1}}),n.createElement(s.A,{id:"Apis.Details.Environments.download.swagger.text",defaultMessage:"Download Swagger"}))),n.createElement(K.A,{title:m?n.createElement(s.A,{id:"Apis.Details.Swagger.URL.copied",defaultMessage:"Copied"}):n.createElement(s.A,{id:"Apis.Details.Swagger.URL.copy.to.clipboard",defaultMessage:"Copy to clipboard"}),placement:"top"},n.createElement(he.A,{"aria-label":"Copy to clipboard",size:"small",color:"grey",onClick:()=>{navigator.clipboard.writeText(d.origin+"/api/am/devportal/v3/apis/"+a.id+"/swagger?accessToken="+o+"&X-WSO2-Tenant-Q="+E+"&environmentName="+t.environmentName).then((()=>p("urlCopied")))},sx:{minWidth:"auto",ml:1}},n.createElement(Y.A,null)))):"WS"===a.type||"WEBSUB"===a.type||"SSE"===a.type||"ASYNC"===a.type?n.createElement(K.A,{title:n.createElement(s.A,{id:"Apis.Details.Environments.download.asyncapi",defaultMessage:"AsyncAPI Specification"}),placement:"right",sx:e=>({cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:e.palette.secondary.main}})},n.createElement("a",{onKeyDown:v,onClick:v,className:e=>({fontSize:14,color:e.palette.primary.main,display:"flex"}),id:"swagger-download-btn"},n.createElement(lt.A,{sx:{marginRight:1}}),n.createElement(s.A,{id:"Apis.Details.Environments.download.asyncapi.text",defaultMessage:"Download AsyncAPI Specification"}))):"GRAPHQL"===a.type?n.createElement(K.A,{title:n.createElement(s.A,{id:"Apis.Details.Environments.download.graphQL",defaultMessage:"GraphQL"}),placement:"right",sx:e=>({cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:e.palette.secondary.main}})},n.createElement("a",{onKeyDown:y,onClick:y,className:e=>({fontSize:14,color:e.palette.primary.main,display:"flex"})},n.createElement(lt.A,{sx:{marginRight:1}}),n.createElement(s.A,{id:"Apis.Details.Environments.download.graphql.text",defaultMessage:"Download GraphQL"}))):void 0},mt="Overview",pt={root:`${mt}-root`,linkTitle:`${mt}-linkTitle`,description:`${mt}-description`,textLabel:`${mt}-textLabel`,textValue:`${mt}-textValue`,apiThumb:`${mt}-apiThumb`,chipRoot:`${mt}-chipRoot`,subtitle:`${mt}-subtitle`,cardRoot:`${mt}-cardRoot`,sectionTitle:`${mt}-sectionTitle`,moreLink:`${mt}-moreLink`,table:`${mt}-table`,requestCount:`${mt}-requestCount`,requestUnit:`${mt}-requestUnit`,launchIcon:`${mt}-launchIcon`,originalDevportalUrl:`${mt}-originalDevportalUrl`},dt=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${pt.root}`]:{width:"100%",height:"100vh",paddingLeft:t.spacing(2),paddingTop:t.spacing(2)},[`& .${pt.linkTitle}`]:{color:t.palette.grey[800]},[`& .${pt.description}`]:{color:t.palette.grey[700]},[`& .${pt.textLabel}`]:{fontWeight:400,color:t.palette.grey[800]},[`& .${pt.textValue}`]:{textIndent:t.spacing(1)},[`& .${pt.apiThumb}`]:{padding:t.spacing(),border:"solid 1px",borderColor:t.palette.grey[800],width:100},[`& .${pt.chipRoot}`]:{cursor:"pointer",marginRight:t.spacing()},[`& .${pt.subtitle}`]:{color:t.palette.grey[800]},[`& .${pt.cardRoot}`]:{width:150,height:150,marginRight:t.spacing(),marginTop:t.spacing(2)},[`& .${pt.sectionTitle}`]:{color:t.palette.grey[800],fontSize:"0.95rem",fontWeight:400},[`& .${pt.moreLink}`]:{fontSize:"14px"},[`& .${pt.table}`]:{"& th":{fontWeight:400}},[`& .${pt.requestCount}`]:{fontSize:22},[`& .${pt.requestUnit}`]:{fontSize:13},[`& .${pt.launchIcon}`]:{paddingLeft:t.spacing(1)},[`& .${pt.originalDevportalUrl}`]:{marginTop:t.spacing(4)}}})),ut=function(){const e=(0,i.A)(),{custom:{apiDetailPages:{showCredentials:t,showComments:a,showDocuments:r},infoBar:{showThumbnail:v},social:{showRating:h},showSwaggerDescriptionOnOverview:w}}=e,x=(0,l.A)(),{api:S,api:{advertiseInfo:T},subscribedApplications:D}=(0,n.useContext)(_._),[M,k]=(0,n.useState)(!0),[$,N]=(0,n.useState)(!1),[I,W]=(0,n.useState)(!1),[j,V]=(0,n.useState)(null),[H,K]=(0,n.useState)(null),[Q,Y]=(0,n.useState)(null),[X,J]=(0,n.useState)(null),[Z,ee]=(0,n.useState)({avgRating:0,total:0,count:0}),[te,ae]=(0,n.useState)(S.endpointURLs&&S.endpointURLs.length>0?S.endpointURLs[0]:null);let ne=!1,re="";if(S.description){const e=40;S.description.split(" ").length>e&&(re=S.description.split(" ").slice(0,e).join(" ")+"...",ne=!0)}const ie={min:x.formatMessage({id:"Apis.Details.Overview.business.plans.time.unit.min",defaultMessage:"min"}),hours:x.formatMessage({id:"Apis.Details.Overview.business.plans.time.unit.hours",defaultMessage:"hours"}),days:x.formatMessage({id:"Apis.Details.Overview.business.plans.time.unit.days",defaultMessage:"days"}),months:x.formatMessage({id:"Apis.Details.Overview.business.plans.time.unit.months",defaultMessage:"months"}),years:x.formatMessage({id:"Apis.Details.Overview.business.plans.time.unit.years",defaultMessage:"years"})},Ae=S.tiers&&1===S.tiers.length&&S.tiers[0].tierName.includes(ue.A.DEFAULT_SUBSCRIPTIONLESS_PLAN),Ee=()=>(new de.A).getAllTiers("subscription",q().app.throttlingPolicyLimit).then((e=>{try{const t=e.body.list.filter((e=>(e=>{const t=S.tiers.filter((t=>t.tierName===e));return t&&t.length>0})(e.name)));J(t)}catch(e){console.log(e),ce.A.error(x.formatMessage({id:"Apis.Details.Overview.error.occurred",defaultMessage:"Error occurred"}))}})).catch((e=>{console.log(e);const{status:t}=e;ce.A.error(x.formatMessage({id:"Apis.Details.Overview.error.occurred.subs",defaultMessage:"Error occurred when fetching subscription policies"})),404===t&&W(!0),V([]),N(!1)})),fe=()=>(new de.A).getDocumentsByAPIId(S.id).then((e=>{const t=e.body.list.filter((e=>"_overview"===e.otherTypeName));t.length>0&&K(t[0]),V(e.body.list)})).catch((e=>{console.log(e);const{status:t}=e;ce.A.error(x.formatMessage({id:"Apis.Details.Overview.error.occurred.docs",defaultMessage:"Error occurred when fetching documents"})),404===t&&W(!0),V([]),N(!1)}));(0,n.useEffect)((()=>{N(!0);const{endpointURLs:e}=S;e&&e.length>0&&ae(e[0]),Promise.all([fe(),Ee()]).then((()=>{N(!1)}))}),[S]),(0,n.useEffect)((()=>{const e=new de.A;w?e.getSwaggerByAPIIdAndEnvironment(S.id,te.environmentName).then((e=>{const t=e.obj;t&&t.info?Y(t.info.description):Y("")})).catch((e=>{console.log(e),Y("")})):(N(!0),Promise.all([fe(),Ee()]).then((()=>{N(!1)})))}),[]);const ye=()=>S.keyManagers?"all"===S.keyManagers[0]?null:S.keyManagers.map((e=>n.createElement(A.A,{variant:"body2"},e))):null,be=oe.A.getUser();return $?n.createElement(pe.A,null):w?Q?n.createElement(u.A,{p:3},n.createElement(U.$,{plugins:[B.A],escapeHtml:!0},Q)):n.createElement(pe.A,null):j?I?n.createElement(se.A,{message:x.formattedMessage({id:"Apis.Details.Overview.not.found.message",defaultMessage:"Resource Not Found"})}):H?n.createElement(dt,null,n.createElement(m.A,{className:pt.paperWithDoc,elevation:0},n.createElement(ge.A,{doc:H,apiId:S.id,fullScreen:!0,dontShowName:!0}))):n.createElement(dt,null,n.createElement(m.A,{className:pt.root,elevation:0},n.createElement(p.Ay,{container:!0},n.createElement(p.Ay,{item:!0,sm:8,xl:9},n.createElement(u.A,{display:"flex",flexDirection:"column"},n.createElement(u.A,{display:"flex",flexDirection:"row"},v&&n.createElement(u.A,{id:"overview-thumbnail",width:86,display:"flex",alignItems:"center"},n.createElement(u.A,{className:pt.apiThumb},n.createElement(G.A,{api:S,customWidth:70,customHeight:50,showInfo:!1}))),n.createElement(u.A,{ml:3,mr:2},n.createElement(A.A,{variant:"h4",component:"h2"},S.name),S.description&&n.createElement(A.A,{variant:"body2",gutterBottom:!0,align:"left",className:pt.description},ne&&M?re:S.description,ne&&n.createElement("a",{"aria-label":"Show more/less description",onClick:e=>{e.preventDefault(),k(!M)},href:"#"},M?x.formatMessage({defaultMessage:" more",id:"Apis.Details.Overview.description.more"}):x.formatMessage({defaultMessage:" less",id:"Apis.Details.Overview.description.less"}))),n.createElement(u.A,{display:"flex","area-lable":"API version and owner details",flexDirection:"row"},n.createElement(A.A,{variant:"body2",gutterBottom:!0,align:"left",className:pt.textLabel},n.createElement(s.A,{id:"Apis.Details.Overview.list.version",defaultMessage:"Version "}))," ",n.createElement(A.A,{variant:"body2",gutterBottom:!0,align:"left",className:pt.textValue},S.version),n.createElement(d.A,{height:20}),n.createElement(A.A,{variant:"body2",gutterBottom:!0,align:"left",className:pt.textLabel},n.createElement(s.A,{id:"Apis.Details.Overview.list.provider",defaultMessage:"By "}))," ",n.createElement(A.A,{variant:"body2",gutterBottom:!0,align:"left",className:pt.textValue},(()=>{let{provider:e}=S;return S.businessInformation&&S.businessInformation.businessOwner&&""!==S.businessInformation.businessOwner.trim()&&(e=S.businessInformation.businessOwner),e})())))),n.createElement(u.A,{alignItems:"center",mt:2,pr:6},"solace"===S.gatewayType?n.createElement(ze,null):n.createElement(Qe,{updateSelectedEndpoint:e=>{const t=e.target.value,a=S.endpointURLs.filter((e=>e.environmentName===t));a&&a.length>0?ae(a[0]):ce.A.error(x.formatMessage({id:"Apis.Details.Overview.select.env.error",defaultMessage:"Error Selecting Environment"}))},selectedEndpoint:te})),n.createElement(u.A,{display:"flex",flexDirection:"row",alignItems:"center",className:pt.originalDevportalUrl,mt:2,pr:6},T&&T.advertised&&T.originalDevPortalUrl&&n.createElement(c.A,{target:"_blank",rel:"noopener noreferrer",href:T.originalDevPortalUrl,variant:"body3",underline:"hover"},n.createElement(s.A,{id:"Apis.Details.Credentials.Credentials.visit.original.developer.portal",defaultMessage:"Visit Original Developer Portal"}),n.createElement(C.A,{className:pt.launchIcon}))),Ae&&n.createElement(u.A,{mt:2,ml:1,pr:6},n.createElement(me.A,{type:"info",title:n.createElement(s.A,{id:"Apis.Details.Overview.subscriptions.not.required",defaultMessage:"No subscriptions required"})},n.createElement(A.A,{component:"p"},n.createElement(s.A,{id:"Apis.Details.Overview.subscriptions.not.required.content",defaultMessage:"Subscriptions are not required for this API. You can consume this without subscribing to it."})))),("wso2"===S.gatewayVendor||!S.gatewayVendor)&&X&&X.length>0&&!Ae&&n.createElement(n.Fragment,null,n.createElement(u.A,{mt:6},n.createElement(A.A,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.business.plans.title",defaultMessage:"Business Plans"}))),n.createElement(u.A,{flexWrap:"wrap",display:"flex",flexDirection:"row",alignItems:"center",mt:2,ml:1,textAlign:"center"},X&&X.map((e=>e.name.includes(ue.A.DEFAULT_SUBSCRIPTIONLESS_PLAN)?null:n.createElement(E.A,{className:pt.cardRoot,key:e.name},n.createElement(O.A,null,n.createElement(A.A,{className:pt.cardMainTitle,color:"textSecondary",gutterBottom:!0},e.name),n.createElement(u.A,{mt:2},n.createElement(A.A,{className:pt.requestCount,color:"textSecondary"},2147483647===e.requestCount?"Unlimited":e.requestCount)),n.createElement(u.A,null,n.createElement(A.A,{className:pt.requestUnit,color:"textSecondary"},n.createElement(s.A,{id:"Apis.Details.Overview.business.plans.requests.unit",defaultMessage:"Requests/{timeUnit}",values:{timeUnit:e.timeUnit in ie?ie[e.timeUnit]:e.timeUnit}}))))))))),t&&D.length>0&&!Ae&&n.createElement(n.Fragment,null,n.createElement(u.A,{mt:6},n.createElement(A.A,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.subscriptions.title",defaultMessage:"Subscriptions"}))),n.createElement(u.A,{mt:2,ml:1,pr:6},n.createElement(R,{component:m.A},n.createElement(f.A,{className:pt.table,"aria-label":"simple table"},n.createElement(L.A,null,n.createElement(P.A,null,n.createElement(b.A,null,n.createElement(s.A,{id:"Apis.Details.Overview.api.credentials.subscribed.apps.name",defaultMessage:"Application Name"})),n.createElement(b.A,null,n.createElement(s.A,{id:"Apis.Details.Overview.api.credentials.subscribed.apps.tier",defaultMessage:"Throttling Tier"})),n.createElement(b.A,null,n.createElement(s.A,{id:"Apis.Details.Overview.api.credentials.subscribed.apps.status",defaultMessage:"Application Status"})))),n.createElement(y.A,null,D.map((e=>n.createElement(P.A,{key:e.label},n.createElement(b.A,{component:"th",scope:"row"},n.createElement(c.A,{component:o.N_,to:`/applications/${e.value}/overview`,underline:"hover"},e.label)),n.createElement(b.A,null,e.policy),n.createElement(b.A,null,e.status))))))))),n.createElement(u.A,{mt:6},a&&n.createElement(n.Fragment,null,n.createElement(A.A,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.comments.title",defaultMessage:"Comments"})),n.createElement(u.A,{pr:6},S&&n.createElement(Ye.default,{apiId:S.id,isOverview:!0})))))),n.createElement(p.Ay,{item:!0,xs:4,xl:3},be&&h&&n.createElement(u.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(F.A,{avgRating:Z.avgRating,reviewCount:Z.total,returnCount:Z.count}),n.createElement(d.A,{height:30}),n.createElement(z.A,{apiId:S.id,isEditable:!0,showSummary:!1,setRatingUpdate:e=>{if(e){const{avgRating:t,total:a,count:n}=e;ee({avgRating:t,total:a,count:n})}}})),n.createElement(u.A,{mt:6},n.createElement(le,null)),n.createElement(u.A,{mt:2,mb:1},n.createElement(A.A,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.subscriptions.title",defaultMessage:"Subscriptions"})),Ae?n.createElement(A.A,{variant:"body2"},"N/A"):n.createElement(A.A,{variant:"body2"},S.subscriptions||0)),n.createElement(u.A,{mt:2,mb:1},n.createElement(A.A,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.tags.title",defaultMessage:"Tags"}))),n.createElement(A.A,{variant:"body2",className:pt.endpointLabel},S.tags.map((e=>n.createElement(g.A,{label:e,key:e,component:o.N_,clickable:!0,to:`/apis?offset=0&query=tag:${e}`,classes:{root:pt.chipRoot},variant:"outlined",size:"small"}))),0===S.tags.length&&n.createElement(s.A,{id:"Apis.Details.Overview.list.tags.not",defaultMessage:"Not Tagged"})),r&&j&&j.length>0&&n.createElement(n.Fragment,null,n.createElement(u.A,{mt:6},n.createElement(A.A,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.documents.title",defaultMessage:"Documents"}))),n.createElement(u.A,{pr:2,pl:1},n.createElement(it,{apiId:S.id}),j.length>2&&n.createElement(c.A,{component:o.N_,to:"/apis/"+S.id+"/documents",className:pt.moreLink,underline:"hover"},j.length-2," ",n.createElement(s.A,{id:"Apis.Details.Overview.comments.show.more.more",defaultMessage:"more"})))),S.businessInformation.businessOwnerEmail&&n.createElement(n.Fragment,null,n.createElement(u.A,{mt:6},n.createElement(A.A,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.business.info",defaultMessage:"Business Info"}))),n.createElement(u.A,{mt:1},n.createElement(A.A,{variant:"body2"},S.businessInformation.businessOwnerEmail))),n.createElement(u.A,{mt:6},n.createElement(A.A,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.source",defaultMessage:"Source"}))),("HTTP"===S.type||"SOAPTOREST"===S.type||"SOAP"===S.type||"GRAPHQL"===S.type||"WS"===S.type||"WEBSUB"===S.type||"SSE"===S.type||"ASYNC"===S.type)&&n.createElement(u.A,{mt:2},te&&n.createElement(ct,{selectedEndpoint:te})),ye()&&n.createElement(n.Fragment,null,n.createElement(u.A,{mt:6},n.createElement(A.A,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.key.manager",defaultMessage:"Key Managers"}))),n.createElement(u.A,{mt:1},ye())),S.additionalProperties&&Object.keys(S.additionalProperties).length>0&&n.createElement(n.Fragment,null,n.createElement(u.A,{mt:6},n.createElement(A.A,{variant:"subtitle2",className:pt.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.additional.properties",defaultMessage:"Additonal properties"}))),n.createElement(u.A,{mt:1,ml:1},S.additionalProperties.filter((e=>{let{name:t,display:a}=e;return a&&!["slack_url","github_repo"].includes(t)})).map((e=>{let{name:t,value:a}=e;return n.createElement(A.A,{variant:"body2"},t," ",":"," ",a)})))))))):n.createElement(pe.A,null)}}}]);
//# sourceMappingURL=APIOverview.aa1d8047270784418bd6.bundle.js.map