(this.webpackChunk_wso2apim_publisher=this.webpackChunk_wso2apim_publisher||[]).push([[9576],{164031:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var r=n(296540),o=n(311848),i=n(799020),a=n(605556),l=n.n(a),c=n(233551),s=n(553313),u=n(461914),p=n(958065),d=n(540975),f=n(358807),g=n(282299),h=n(19455),y=n(233755),m=n(897648),v=n.n(m),b=n(546350),w=n(375148),E=n(800373);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(A=function(){return!!e})()}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function D(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){var t=function(e){if("object"!=R(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==R(t)?t:t+""}var O="SwaggerEditorDrawer";f.wG.config({monaco:d});var S={editorPane:"".concat(O,"-editorPane"),editorRoot:"".concat(O,"-editorRoot"),glyphMargin:"".concat(O,"-glyphMargin"),noGlyphMargin:"".concat(O,"-noGlyphMargin"),topMargin:"".concat(O,"-topMargin")},j=(0,o.Ay)("div")(function(e){var t=e.theme;return D(D(D(D(D({},"& .".concat(S.editorPane),{width:"calc(50% - ".concat(t.spacing(1),")"),height:"100%",overflow:"auto"}),"& .".concat(S.editorRoot),{height:"100%",marginTop:t.spacing(-1),marginLeft:t.spacing(-1)}),"& .".concat(S.glyphMargin),{background:y.A[900],width:"5px !important"}),"& .".concat(S.noGlyphMargin),{background:"none"}),"& .".concat(S.topMargin),{paddingTop:"10px"})}),N=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=C(t),function(e,t){if(t&&("object"==R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,A()?Reflect.construct(t,n||[],C(e).constructor):t.apply(e,n))}(this,t,[e])).onContentChange=n.onContentChange.bind(n),n.editorDidMount=n.editorDidMount.bind(n),n.editor=null,n.monaco=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(t,e),n=t,o=[{key:"componentDidUpdate",value:function(e){for(var t=this.props.linterResults,n=v()(e.linterResults,t,"range.start.line"),r=0;r<n.length;r++){var o=n[r].range.start.line;this.editor.deltaDecorations([{range:new this.monaco.Range(o,1,o,1),options:{isWholeLine:!1,glyphMarginClassName:S.glyphMargin}}],[{range:new this.monaco.Range(o,1,o,1),options:{isWholeLine:!1,glyphMarginClassName:S.noGlyphMargin}}])}}},{key:"handleRowClick",value:function(e){var t=this.editor.getModel().getLineLastNonWhitespaceColumn(e);this.editor.revealLinesInCenter(e,e,0),this.editor.setPosition({column:t,lineNumber:e}),this.editor.focus(),this.editor.deltaDecorations([],[{range:new this.monaco.Range(e,1,e,1),options:{isWholeLine:!1,glyphMarginClassName:S.glyphMargin}}])}},{key:"onContentChange",value:function(e){(0,this.props.onEditContent)(e)}},{key:"editorDidMount",value:function(e,t){var n=this.props.linterSelectedLine;this.editor=e,this.monaco=t,n&&this.handleRowClick(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.language,o=t.swagger,a=t.errors,l=t.setErrors,d=t.isSwaggerUI,y=t.linterResults,m=t.severityMap,v=t.linterSelectedSeverity;return r.createElement(j,null,r.createElement(i.Ay,{container:!0,spacing:2,className:S.editorRoot},r.createElement(i.Ay,{item:!0,className:S.editorPane},r.createElement(f.KE,{language:n,width:"100%",height:"calc(100vh - 51px)",theme:"vs-dark",value:o,onChange:this.onContentChange,options:{glyphMargin:!0},onMount:this.editorDidMount})),r.createElement(i.Ay,{item:!0,className:S.editorPane},a&&a.length>0&&r.createElement(s.A,{mr:2},r.createElement(u.A,{type:"warning",height:"100%"},r.createElement(s.A,null,r.createElement(s.A,{onClick:l,position:"absolute",right:"0",top:"0"},r.createElement(h.A,{"area-label":"close",size:"large"},r.createElement(g.A,null))),r.createElement(c.A,{variant:"h5",component:"h3",className:S.head},r.createElement(p.A,{id:"Apis.Details.APIDefinition.SwaggerEditorDrawer.title",defaultMessage:[{type:0,value:"Failed to Validate OpenAPI File"}]})),a.map(function(e){return r.createElement(c.A,{component:"p",className:S.content},e.description)})))),d&&r.createElement(b.default,{spec:o}),!d&&y.length>0&&r.createElement("div",{"data-testid":"testid-linter-ui"},r.createElement(w.A,{linterResults:y,severityMap:m,handleRowClick:function(t){e.handleRowClick(t)}})),!d&&0===y.length&&r.createElement("div",{className:S.topMargin},r.createElement(s.A,{alignSelf:"center",justifySelf:"center",flexDirection:"column"},r.createElement(c.A,{variant:"h4"},r.createElement(p.A,{id:"Apis.Details.APIDefinition.SwaggerEditorDrawer.linter.goodupdate.content",defaultMessage:[{type:0,value:"No linting issues found in the definition"}]})),r.createElement(c.A,{variant:"h6"},r.createElement(p.A,{id:"Apis.Details.APIDefinition.SwaggerEditorDrawer.linter.no.resultsupdate.content",defaultMessage:[{type:0,value:"No Linter Results"},{type:1,value:"type"},{type:0,value:" found"}],values:{type:v?" (".concat(E.Ov[v],")"):""}})))))))}}],o&&M(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(r.Component);N.propTypes={classes:l().shape({}).isRequired,language:l().string.isRequired,swagger:l().string.isRequired,onEditContent:l().func.isRequired,errors:l().shape([]).isRequired,setErrors:l().func.isRequired};const _=N},546350:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(296540),o=n(605556),i=n.n(o),a=n(671194),l=(n(838871),function(){return{wrapComponents:{info:function(){return function(){return null}},authorizeBtn:function(){return function(){return null}}}}}),c=function(){return{statePlugins:{spec:{wrapSelectors:{allowTryItOutFor:function(){return function(){return!1}}}}}}},s=function(e){var t={spec:e.spec,url:e.url,validatorUrl:null,docExpansion:"list",defaultModelsExpandDepth:-1,plugins:[l,c]};return r.createElement(a.A,t)};s.propTypes={accessTokenProvider:i().func.isRequired,authorizationHeader:i().string.isRequired,api:i().shape({context:i().string.isRequired}).isRequired,url:i().string.isRequired};const u=s},897648:(e,t,n)=>{var r=n(983915),o=n(983120),i=n(315389),a=n(269302),l=n(683693),c=n(468090),s=a(function(e,t){var n=c(t);return l(n)&&(n=void 0),l(e)?r(e,o(t,1,l,!0),i(n,2)):[]});e.exports=s}}]);
//# sourceMappingURL=EditorDialog.8bb489234c24334d02d3.bundle.js.map