(this.webpackChunk_wso2apim_publisher=this.webpackChunk_wso2apim_publisher||[]).push([[2861],{6652:(e,t,r)=>{"use strict";r.d(t,{Cr:()=>n,Dj:()=>o,Im:()=>i,_7:()=>a,dj:()=>s,eB:()=>u,f4:()=>d,mD:()=>c,pg:()=>l,tb:()=>p,vu:()=>f});var n="oauth2",a="basic_auth",l="api_key",i="mutualssl",o="oauth_basic_auth_api_key_mandatory",c="mutualssl_mandatory",u="oauth_basic_auth_api_key_optional",s="mutualssl_optional",p="PRODUCTION",d="SANDBOX",f="all"},45136:(e,t,r)=>{"use strict";r.d(t,{A:()=>g,b:()=>f});var n=r(296540),a=r(605556),l=r.n(a),i=r(583882),o=r(544675);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(null,arguments)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){d(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t,r){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e,n=t?1e3:1024;if(Math.abs(r)<n)return r+" B";var a=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],l=-1;do{r/=n,++l}while(Math.abs(r)>=n&&l<a.length-1);return r.toFixed(1)+" "+a[l]}var m={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"100px 20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},y={borderColor:"#2196f3"},v={borderColor:"#00e676"},A={borderColor:"#ff1744"};function g(e){var t=e.message,r=e.onDrop,a=e.error,l=e.children,c=e.accept,s=e.ariaLabel,d=(0,i.VB)({onDrop:r}),f=d.getRootProps,g=d.getInputProps,b=d.isDragActive,h=d.isDragAccept,E=d.isDragReject,P=(0,n.useMemo)(function(){return p(p(p(p({},m),b?y:{}),h?v:{}),E?A:{})},[b,E,a]),S={fontFamily:(0,o.A)().typography.fontFamily,textAlign:"center"};return n.createElement("section",{className:"container",style:S},n.createElement("div",f({style:P}),n.createElement("input",u({"aria-label":s},g(),{multiple:!1,accept:c})),l||t))}g.defaultProps={message:"Drag 'n' drop some files here, or click to select files",onDrop:function(){},showFilesList:!0,children:null,error:!1,accept:"*"},g.propTypes={message:l().string,onDrop:l().func,accept:l().string,showFilesList:l().bool,children:l().oneOfType([l().element,l().arrayOf(l().shape({}))]),error:l().oneOfType([l().bool,l().shape({})])}},127601:(e,t,r)=>{"use strict";r.d(t,{A:()=>G});var n=r(296540),a=r(311848),l=r(605556),i=r.n(l),o=r(799020),c=r(445359),u=r(569307),s=r(706442),p=r(958065),d=r(573357),f=r(74010),m=r(149799),y=r(744635),v=r(801471),A=r(481385),g=r(19455),b=r(246e3),h=r(67034),E=r(444448),P=r(482241),S=r(804686),I=r(45136),O=r(121070),j=r(725239),C=r(441340),w=r(901775),T=r(653215),L=r(301043),x=r(601935),D=r(448805),M=r(894017),R=r(51249);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){U(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l,i,o=[],c=!0,u=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=l.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function U(e,t,r){return(t=function(e){var t=function(e){if("object"!=k(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var F=750,B={mandatoryStar:"".concat("ProvideGraphQL","-mandatoryStar")},z=(0,a.Ay)("div")(function(e){var t=e.theme;return U({},"& .".concat(B.mandatoryStar),{color:t.palette.error.main})});function G(e){var t=e.apiInputs,r=e.inputsDispatcher,a=e.onValidate,l=t.inputType,i=t.inputValue,k=l===G.INPUT_TYPES.URL||""===l,N=l===G.INPUT_TYPES.FILE,_=l===G.INPUT_TYPES.ENDPOINT,U=(0,s.A)(),Q=W((0,n.useState)({file:null}),2),q=Q[0],Y=Q[1],J=W((0,n.useState)(!1),2),H=J[0],$=J[1];function K(e){$(!0);var t=e.pop(),n=null;S.A.validateGraphQLFile(t).then(function(e){var a=e.body,l=a.isValid,i=a.graphQLInfo;l?(n=t,r({action:"graphQLInfo",value:i}),Y(V(V({},q),{},{file:null}))):Y(V(V({},q),{},{file:{message:"GraphQL content validation failed!"}}))}).catch(function(e){Y(V(V({},q),{},{file:{message:"GraphQL content validation failed!"}})),console.error(e)}).finally(function(){$(!1),a(null!==n),r({action:"inputValue",value:n})})}var X=Boolean(q.url),Z=null;H?Z=n.createElement(j.A,{position:"end"},n.createElement(d.A,null)):void 0!==q.url&&(Z=X?n.createElement(j.A,{position:"end"},n.createElement(R.A,{fontSize:"large",color:"error"})):n.createElement(j.A,{position:"end",id:"url-validated"},n.createElement(M.A,{fontSize:"large",color:"primary"})));var ee=(0,n.useCallback)((0,x.A)(function(e){(l===G.INPUT_TYPES.URL?function(){return S.A.validateGraphQL(e)}:function(){return S.A.validateGraphQL(e,{useIntrospection:!0})})().then(function(e){var t,n=e.body.graphQLInfo,i=e.body.isValid;i?(r({action:"graphQLInfo",value:n}),Y({isValidURL:i,file:null})):(l===G.INPUT_TYPES.ENDPOINT?t="Error occurred while generating GraphQL schema from endpoint":l===G.INPUT_TYPES.URL&&(t="Error occurred while retrieving GraphQL schema from url"),Y({isValidURL:i,file:{message:t}})),a(i),$(!1)}).catch(function(e){Y({url:{message:e.message}}),a(!1),$(!1),console.error(e)}),l===G.INPUT_TYPES.ENDPOINT&&r({action:"endpoint",value:e})},F),[l]);function te(e){var r=D.A.url.required().validate(e).error;null===r?($(!0),ee(t.inputValue)):(Y(V(V({},q),{},{url:r})),a(!1))}(0,n.useEffect)(function(){i&&l===G.INPUT_TYPES.FILE&&K([i])},[l,i]),(0,n.useEffect)(function(){r({action:"importingContent",value:null}),r({action:"inputValue",value:null}),r({action:"isFormValid",value:!1}),r({action:"endpoint",value:""}),r({action:"isValid",value:null})},[l]);var re=".graphql,text/plain";return n.createElement(z,null,n.createElement(o.Ay,{container:!0},n.createElement(o.Ay,{item:!0,xs:12,sx:{mb:2}},n.createElement(c.A,{component:"fieldset"},n.createElement(u.A,{component:"legend"},n.createElement(n.Fragment,null,n.createElement("sup",{className:B.mandatoryStar},"*")," ",n.createElement(p.A,{id:"Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.type",defaultMessage:[{type:0,value:"Input Type"}]}))),n.createElement(C.A,{"aria-label":"Input Source",value:""===t.inputType?"url":t.inputType,onChange:function(e){r({action:"inputType",value:e.target.value}),Y({file:null})}},n.createElement(w.A,{disabled:H,value:G.INPUT_TYPES.FILE,control:n.createElement(T.A,{color:"primary"}),label:U.formatMessage({id:"Apis.Create.GraphQL.create.api.form.file.label",defaultMessage:[{type:0,value:"GraphQL File/Archive"}]}),"aria-label":"GraphQL File/Archive",id:"graphql-file-select-radio"}),n.createElement(w.A,{disabled:H,value:G.INPUT_TYPES.URL,control:n.createElement(T.A,{color:"primary"}),label:U.formatMessage({id:"Apis.Create.GraphQL.create.api.form.url.label",defaultMessage:[{type:0,value:"GraphQL SDL URL"}]}),id:"graphql-url-select-radio"}),n.createElement(w.A,{disabled:H,value:G.INPUT_TYPES.ENDPOINT,control:n.createElement(T.A,{color:"primary"}),label:U.formatMessage({id:"Apis.Create.GraphQL.create.api.form.endpoint.label",defaultMessage:[{type:0,value:"GraphQL Endpoint"}]}),"aria-label":"GraphQL Endpoint",id:"graphql-endpoint-select-radio"})))),q.file&&n.createElement(o.Ay,{item:!0,md:12,sx:{mb:2}},n.createElement(O.A,{onClose:function(){return Y({file:null})},disableActions:!0,dense:!0,paperProps:{elevation:1},type:"error",message:q.file.message})),n.createElement(o.Ay,{item:!0,md:12},N&&n.createElement(n.Fragment,null,t.inputValue?n.createElement(m.A,{"data-testid":"uploaded-list-graphql"},n.createElement(y.Ay,{key:t.inputValue.path,"data-testid":"uploaded-list-content-graphql"},n.createElement(v.A,null,n.createElement(A.A,null,n.createElement(b.A,null))),n.createElement(P.A,{primary:"\n                                                ".concat(t.inputValue.path," - \n                                                ").concat((0,I.b)(t.inputValue.size)),"data-testid":"file-input-"+t.inputValue.path}),n.createElement(E.A,null,n.createElement(g.A,{edge:"end","aria-label":"delete",onClick:function(){r({action:"inputValue",value:null}),r({action:"isFormValid",value:!1})},"data-testid":"btn-delete-imported-file",size:"large"},n.createElement(h.default,null))))):n.createElement(I.A,{error:q.file,onDrop:K,files:t.inputValue,accept:re,ariaLabel:"GraphQL file upload"},H?n.createElement(d.A,null):[n.createElement(p.A,{id:"Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.file.dropzone",defaultMessage:[{type:0,value:"Drag & Drop files here "},{type:1,value:"break"},{type:0,value:" or "},{type:1,value:"break"},{type:0,value:" Browse files"},{type:1,value:"break"},{type:0,value:"("},{type:1,value:"accept"},{type:0,value:")"}],values:{break:n.createElement("br",null),accept:re}}),n.createElement(f.A,{color:"primary",variant:"contained","data-testid":"browse-to-upload-btn",sx:{mt:1}},n.createElement(p.A,{id:"Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.file.upload",defaultMessage:[{type:0,value:"Browse File to Upload"}]}))])),k&&n.createElement(L.A,{autoFocus:!0,id:"outlined-full-width-url",label:U.formatMessage({id:"Apis.Create.GraphQL.create.api.url.label",defaultMessage:[{type:0,value:"GraphQL SDL URL"}]}),placeholder:U.formatMessage({id:"Apis.Create.GraphQL.create.api.url.placeholder",defaultMessage:[{type:0,value:"Enter GraphQL SDL URL"}]}),fullWidth:!0,margin:"normal",variant:"outlined",onChange:function(e){var t=e.target.value;return r({action:"inputValue",value:t})},value:t.inputValue,InputLabelProps:{shrink:!0},InputProps:{onBlur:function(e){te(e.target.value)},endAdornment:Z},helperText:q.url&&q.url.message||n.createElement(p.A,{id:"Apis.Create.GraphQL.create.api.url.helper.text",defaultMessage:[{type:0,value:"Click away to validate the URL"}]}),error:X,"data-testid":"graphql-add-form-url"}),_&&n.createElement(L.A,{autoFocus:!0,id:"outlined-full-width-endpoint",label:U.formatMessage({id:"Apis.Create.GraphQL.create.api.endpoint.label",defaultMessage:[{type:0,value:"GraphQL Endpoint"}]}),placeholder:U.formatMessage({id:"Apis.Create.GraphQL.create.api.endpoint.placeholder",defaultMessage:[{type:0,value:"Enter GraphQL Endpoint"}]}),fullWidth:!0,margin:"normal",variant:"outlined",onChange:function(e){var t=e.target.value;return r({action:"inputValue",value:t})},value:t.inputValue,InputLabelProps:{shrink:!0},InputProps:{onBlur:function(e){te(e.target.value)},endAdornment:Z},helperText:q.url&&q.url.message||n.createElement(p.A,{id:"Apis.Create.GraphQL.create.api.url.helper.text",defaultMessage:[{type:0,value:"Click away to validate the URL"}]}),error:X,"data-testid":"graphql-add-form-endpoint"}))))}G.defaultProps={onValidate:function(){}},G.INPUT_TYPES={URL:"url",ENDPOINT:"endpoint",FILE:"file"},G.propTypes={apiInputs:i().shape({type:i().string,inputType:i().string,inputValue:i().string}).isRequired,inputsDispatcher:i().func.isRequired,onValidate:i().func}},145678:()=>{},168810:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(804686),a=r(961332),l=r(449719);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function c(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}const d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=s(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,e),r=t,c=[{key:"validateFileOrArchive",value:function(e){var t=(new a.A).getAPIClient(l.A.getCurrentEnvironment(),l.A.CONST.API_CLIENT).client,r={requestBody:{file:e}};return t.then(function(e){return e.apis.Validation.validateWSDLDefinition(null,r)})}},{key:"validateUrl",value:function(e){return(new a.A).getAPIClient(l.A.getCurrentEnvironment(),l.A.CONST.API_CLIENT).client.then(function(t){return t.apis.Validation.validateWSDLDefinition({},{requestBody:{url:e}})})}},{key:"importByUrl",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"SOAP";return(new a.A).getAPIClient(l.A.getCurrentEnvironment(),l.A.CONST.API_CLIENT).client.then(function(a){return a.apis.APIs.importWSDLDefinition({},{requestBody:{url:e,additionalProperties:JSON.stringify(t),implementationType:r}}).then(function(e){return new n.A(e.body)})})}},{key:"importByFileOrArchive",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"SOAP";return(new a.A).getAPIClient(l.A.getCurrentEnvironment(),l.A.CONST.API_CLIENT).client.then(function(a){return a.apis.APIs.importWSDLDefinition(null,{requestBody:{file:e,additionalProperties:JSON.stringify(t),implementationType:r}}).then(function(e){return new n.A(e.body)})})}}],null&&o(r.prototype,null),c&&o(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,c}(r(213024).A)},223138:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(296540),a=r(544675),l=r(769554),i=r(605556),o=r.n(i);function c(e){var t=(0,a.A)(),r=e.method,i=e.className,o=t.custom.resourceChipColors?t.custom.resourceChipColors[r.toLowerCase()]:null,c="#000000";return o?c=t.palette.getContrastText(t.custom.resourceChipColors[r.toLowerCase()]):o="#cccccc",n.createElement(l.A,{label:r,className:i||"",style:{backgroundColor:o,color:c,height:20,width:65}})}c.propTypes={className:o().string.isRequired,method:o().string.isRequired};const u=c},223679:(e,t,r)=>{"use strict";r.d(t,{A:()=>U});var n=r(296540),a=r(311848),l=r(334339),i=r(301043),o=r(149799),c=r(744635),u=r(857873),s=r(392728),p=r(444448),d=r(482241),f=r(271238),m=r(19455),y=r(74010),v=r(686663),A=r(706442),g=r(958065),b=r(233551),h=r(799020),E=r(467193),P=r.n(E),S=r(605556),I=r.n(S),O=r(804686),j=r(208843),C=r(223138),w=r(21448),T=r(208295),L=r(660111);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l,i,o=[],c=!0,u=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=l.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t,r){return(t=function(e){var t=function(e){if("object"!=x(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==x(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N="ProductResourcesEdit",V={searchWrapper:"".concat(N,"-searchWrapper"),paper:"".concat(N,"-paper"),apiWrapper:"".concat(N,"-apiWrapper"),ResourceWrapper:"".concat(N,"-ResourceWrapper"),SelectedResourceWrapper:"".concat(N,"-SelectedResourceWrapper"),leftMost:"".concat(N,"-leftMost"),rightMost:"".concat(N,"-rightMost"),colTitle:"".concat(N,"-colTitle"),treeItemMain:"".concat(N,"-treeItemMain"),treeItemMainWrapper:"".concat(N,"-treeItemMainWrapper"),treeItem:"".concat(N,"-treeItem"),hr:"".concat(N,"-hr"),methodView:"".concat(N,"-methodView"),middleText:"".concat(N,"-middleText"),selectedApi:"".concat(N,"-selectedApi"),selectedTitle:"".concat(N,"-selectedTitle"),buttonWrapper:"".concat(N,"-buttonWrapper"),selectedApiDescription:"".concat(N,"-selectedApiDescription"),messageWrapper:"".concat(N,"-messageWrapper"),tootBar:"".concat(N,"-tootBar"),inactiveIcon:"".concat(N,"-inactiveIcon")},W=(0,a.Ay)("div")(function(e){var t,r=e.theme;return k(k(k(k(k(k(k(k(k(k(t={},"& .".concat(V.searchWrapper),{padding:0,marginTop:r.spacing(1),"& input":{padding:"12px 14px"},display:"flex"}),"& .".concat(V.paper),{height:"100%",borderRadius:0}),"& .".concat(V.apiWrapper),{overflowY:"auto",height:349}),"& .".concat(V.ResourceWrapper),{marginLeft:r.spacing(2),marginRight:r.spacing(2),"& .frame":{overflowY:"auto",height:328,border:"1px solid "+r.palette.grey[400],borderRadius:r.spacing(1)},"& .frame::-webkit-scrollbar":{"-webkit-appearance":"none"},"& .frame::-webkit-scrollbar:vertical":{width:11},"& .frame::-webkit-scrollbar:horizontal":{height:11},"& .frame::-webkit-scrollbar-thumb":{borderRadius:r.spacing(1),border:"2px solid"+r.palette.common.white,backgroundColor:r.palette.grey[400]},"& .frame.rightFrame":{height:369}}),"& .".concat(V.SelectedResourceWrapper),{overflowY:"auto",overflowX:"auto",height:321}),"& .".concat(V.leftMost),{background:r.palette.grey[700],color:r.palette.getContrastText(r.palette.grey[700]),padding:r.spacing(1)}),"& .".concat(V.rightMost),{background:r.palette.grey[600],color:r.palette.getContrastText(r.palette.grey[600]),padding:r.spacing(1)}),"& .".concat(V.colTitle),{background:r.palette.grey[400],color:r.palette.getContrastText(r.palette.grey[400]),padding:r.spacing(1),fontWeight:200,minHeight:25}),"& .".concat(V.treeItemMain),{background:r.palette.grey[100],color:r.palette.getContrastText(r.palette.grey[100]),padding:r.spacing(1)}),"& .".concat(V.treeItemMainWrapper),{paddingLeft:r.spacing(2)}),k(k(k(k(k(k(k(k(k(k(t,"& .".concat(V.treeItem),{"& .material-icons":{fontSize:r.spacing(2),cursor:"pointer",marginRight:r.spacing(1)},display:"flex",alignItems:"center",padding:"6px 0"}),"& .".concat(V.hr),{flex:1,marginLeft:r.spacing(1),marginRight:r.spacing(1),color:r.palette.getContrastText(r.palette.grey[100])}),"& .".concat(V.methodView),{marginLeft:r.spacing(1),marginRight:r.spacing(1)}),"& .".concat(V.middleText),{flex:1}),"& .".concat(V.selectedApi),{background:r.palette.grey[100]}),"& .".concat(V.selectedTitle),{padding:r.spacing(2)}),"& .".concat(V.buttonWrapper),{marginTop:r.spacing(2),textDecorate:"none"}),"& .".concat(V.selectedApiDescription),{padding:"0px 16px"}),"& .".concat(V.messageWrapper),{padding:r.spacing(3)}),"& .".concat(V.tootBar),{display:"flex",justifyContent:"flex-end",alignItems:"center",margin:"0 16px",background:r.palette.grey[100],color:r.palette.getContrastText(r.palette.grey[100]),padding:5,borderRadius:5,"& a":{cursor:"pointer",display:"flex",justifyContent:"flex-end",alignItems:"center"}}),k(t,"& .".concat(V.inactiveIcon),{color:r.palette.grey[300]})});function _(e){var t=e.apiResources,r=e.setApiResources,a=e.isStateCreate,E=e.api,S=e.resourceNotFountMessage,I=M((0,n.useState)([]),2),x=I[0],R=I[1],N=M((0,n.useState)(!1),2),_=N[0],U=N[1],F=M((0,n.useState)(""),2),B=F[0],z=F[1],G=M((0,n.useState)([]),2),Q=G[0],q=G[1],Y=M((0,n.useState)(null),2),J=Y[0],H=Y[1],$=M((0,n.useState)(!1),2),K=$[0],X=$[1],Z=M((0,n.useState)(!1),2),ee=Z[0],te=Z[1],re=new O.A,ne=(0,A.A)(),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var t="?query=name:"+e.trim().toLowerCase()+" type:HTTP",r=v.parse(t);return r.limit=100,r.offset=0,O.A.search(r)}return O.A.all({query:{type:"HTTP"}})},le=function(e){return"delete"===e||"post"===e||"get"===e||"put"===e||"patch"===e||"options"===e||"head"===e},ie=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;Object.keys(e).map(function(t){var a=e[t];Object.keys(a).map(function(e){if(le(e)){a[e].checked=!1;var l=t,i=e,o=!1;n&&Object.keys(n).map(function(e){var t=n[e];t&&r===t.apiId&&Object.keys(t.operations).map(function(e){var r=t.operations[e];r&&r.target===l&&r.verb.toLowerCase()===i.toLowerCase()&&(o=!0)})}),a[e].allreadyAdded=!!o}})}),q(e)},oe=function(e){te(!0);var t=e.id;re.getSwagger(t).then(function(r){void 0!==r.obj.paths&&(ie(r.obj.paths,t),H(e))}).catch(function(e){var t=e.status;404===t?U(!0):401===t&&(0,w.a)()}).finally(function(){te(!1)})},ce=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=!1,i=null;a?i=a:(i=P()(t),l=!0);var o=e.target,c=e.verb,u=e.apiId,s=e.name,p=e.version,d={id:null,target:o,verb:c.toUpperCase(),authType:null,throttlingPolicy:null,scopes:[]},f=!1;return Object.keys(i).map(function(e,t){var r=i[e];if(r&&u===r.apiId){f=!0;var a=!1;Object.keys(r.operations).map(function(e,l){var u=r.operations[e];u&&u.target===o&&u.verb.toLowerCase()===c.toLowerCase()&&(a=!0,"remove"===n&&(r.operations.length>1?r.operations.splice(l,1):i.splice(t,1)))}),a||"add"!==n||r.operations.push(d)}}),f||i.push({name:s,apiId:u,operations:[d],version:p}),l&&(r(i),u===J.id&&ie(P()(Q),u,i)),i},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=P()(t);Object.keys(Q).map(function(t){var r=Q[t];Object.keys(r).map(function(a){(r[a].checked||e)&&le(a)&&ce({target:t,verb:a,apiId:J.id,name:J.name,version:J.version},"add",n)})}),r(n),ie(P()(Q),J.id,n)};return(0,n.useEffect)(function(){ae().then(function(e){var t=e.body.list.filter(function(e){return"PROTOTYPED"!==e.lifeCycleStatus&&"RETIRED"!==e.lifeCycleStatus&&"DEPRECATED"!==e.lifeCycleStatus&&"wso2/synapse"===e.gatewayType});R(t),t.length>0&&(H(t[0]),oe(t[0]))}).catch(function(e){var t=e.status;404===t?U(!0):401===t&&(0,w.a)()})},[]),_?n.createElement(j.A,{message:S}):n.createElement(W,null,0!==x.length||K?n.createElement(n.Fragment,null,!a&&n.createElement(h.Ay,{container:!0},n.createElement(n.Fragment,null,n.createElement(h.Ay,{item:!0,xs:8,className:V.leftMost},n.createElement(b.A,null,n.createElement(g.A,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.find.and.select",defaultMessage:[{type:0,value:"Find and select resources for the API Product"}]}))),n.createElement(h.Ay,{item:!0,xs:4,className:V.rightMost},n.createElement(b.A,null,n.createElement(g.A,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.selected",defaultMessage:[{type:0,value:"Selected resources of API Product"}]}))))),n.createElement(h.Ay,{container:!0},n.createElement(h.Ay,{item:!0,xs:3},n.createElement("div",{className:V.colTitle},n.createElement(b.A,null,n.createElement(g.A,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.select.an.api",defaultMessage:[{type:0,value:"Select an API"}]}))),n.createElement(l.A,null,n.createElement("div",{className:V.searchWrapper},n.createElement(i.A,{id:"outlined-full-width",label:n.createElement(g.A,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.filter.an.api.label",defaultMessage:[{type:0,value:"API"}]}),style:{margin:8},placeholder:ne.formatMessage({id:"Apis.Details.ProductResources.ProductResourcesWorkspace.filter.an.api.placeholder",defaultMessage:[{type:0,value:"Filter APIs"}]}),helperText:ne.formatMessage({id:"Apis.Details.ProductResources.ProductResourcesWorkspace.filter.an.api.helper.text",defaultMessage:[{type:0,value:"Filter by name"}]}),onChange:function(e){ae(e.target.value).then(function(e){var t=e.body.list,r=t.filter(function(e){return"PROTOTYPED"!==e.status});r.length>0&&H(t[0]),R(r)}).catch(function(e){var t=e.status;404===t?U(!0):401===t&&(0,w.a)()}),z(e.target.value),X(e.target.value)},value:B,fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}})),n.createElement("div",{className:V.apiWrapper},n.createElement(o.A,{dense:!0,component:"nav"},x.map(function(e){var t="checkbox-list-label-".concat(e.id);return n.createElement(c.Ay,{key:e.id,role:void 0,dense:!0,button:!0,className:J&&e.id===J.id&&V.selectedApi},n.createElement(d.A,{id:t,primary:e.displayName||e.name,secondary:"".concat(e.name," : ").concat(e.version," - ").concat(e.context),onClick:function(){return oe(e)}}))}))))),n.createElement(h.Ay,{item:!0,xs:5},n.createElement(l.A,{className:V.paper},n.createElement("div",{className:V.colTitle},n.createElement(b.A,null,n.createElement(g.A,{id:"Apis.Details.ProductResources.ProductResourcesEdit.api.resources",defaultMessage:[{type:0,value:"Select API Resources"}]}))),J&&n.createElement(b.A,{variant:"h5",component:"h2",className:V.selectedTitle},J.displayName||J.name),n.createElement("div",{className:V.tootBar},n.createElement(y.A,{onClick:function(){return ue()},onKeyDown:function(){return ue()},id:"add-selected-resources",disabled:ee},n.createElement(b.A,{variant:"body2"},n.createElement(g.A,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.toolbar.add.selected",defaultMessage:[{type:0,value:"Add Selected"}]})),n.createElement(s.A,null,"fast_forward")),n.createElement(L.A,null),n.createElement(y.A,{onClick:function(){return ue(!0)},onKeyDown:function(){return ue(!0)},id:"add-all-resources-btn",disabled:ee},n.createElement(b.A,{variant:"body2"},n.createElement(g.A,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.toolbar.add.all",defaultMessage:[{type:0,value:"Add All"}]})),n.createElement(s.A,null,"fast_forward"))),n.createElement("div",{className:V.ResourceWrapper},n.createElement("div",{className:"frame"},n.createElement(o.A,{dense:!0,id:"resource-wrapper"},Object.keys(Q).map(function(e){var t=Q[e],r="checkbox-list-label_".concat(e);return Object.keys(t).map(function(a){var l=t[a];return T.A.HTTP_METHODS.includes(a)&&n.createElement(c.Ay,{key:"".concat(a," - ").concat(e),role:void 0,dense:!0},n.createElement(u.A,{style:{minWidth:35}},n.createElement(f.A,{edge:"start",checked:l.checked,tabIndex:-1,disableRipple:!0,onChange:function(){return function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){k(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},Q);r[e][t].checked=!r[e][t].checked,q(r)}(e,a)},color:"primary",disabled:l.allreadyAdded,inputProps:{"aria-label":"Select API resource"}})),n.createElement(d.A,{id:r+a,primary:n.createElement("div",null,n.createElement(C.A,{method:a,className:V.methodView}),n.createElement("span",null,e)),secondary:l["x-auth-type"]&&l["x-throttling-tier"]&&"".concat(l["x-auth-type"]," - ").concat(l["x-throttling-tier"]),onClick:function(){return ce({target:e,verb:a,apiId:J.id,name:J.name,version:J.version},"add")},className:V.middleText}),n.createElement(p.A,null,l.allreadyAdded&&n.createElement(s.A,{className:V.inactiveIcon},"chevron_right"),!l.allreadyAdded&&n.createElement(m.A,{edge:"end","aria-label":"comments",onClick:function(){return ce({target:e,verb:a,apiId:J.id,name:J.name,version:J.version},"add")},size:"large"},n.createElement(s.A,null,"chevron_right"))))})})))))),n.createElement(h.Ay,{item:!0,xs:4},n.createElement(l.A,{className:V.paper},n.createElement("div",{className:V.colTitle}),E.name&&n.createElement(n.Fragment,null,n.createElement(b.A,{variant:"h5",component:"h2",className:V.selectedTitle},E.displayName||E.name)),n.createElement("div",{className:V.ResourceWrapper},n.createElement("div",{className:"frame rightFrame"},x.length>0&&t&&0===t.length&&n.createElement("div",{className:V.messageWrapper},n.createElement(b.A,{component:"p"},n.createElement(g.A,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.empty.title",defaultMessage:[{type:0,value:"Use the left side panel to add resources"}]}))),t&&t.length>0&&Object.keys(t).map(function(e){var r=t[e];return n.createElement("div",{key:r.name},n.createElement("div",{className:V.treeItemMain},n.createElement(b.A,{component:"p"},r.name," - ",r.version)),n.createElement("div",{className:V.treeItemMainWrapper},Object.keys(r.operations).map(function(e){var t=r.operations[e],a=t.target,l=t.verb;return n.createElement("div",{key:"".concat(r.apiId,"_").concat(l,"_").concat(a),className:V.treeItem},n.createElement(C.A,{method:l,className:V.methodView}),n.createElement(b.A,{variant:"body2"},a),n.createElement("hr",{className:V.hr}),n.createElement(m.A,{onClick:function(){return ce({target:a,verb:l,apiId:r.apiId,name:r.name,version:r.version},"remove")},"aria-label":"delete resource "+r.name,size:"large"},n.createElement(s.A,null,"delete")))})))}))))))):n.createElement(h.Ay,{container:!0},n.createElement(b.A,{className:V.messageWrapper},n.createElement(g.A,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.ApisnotFound",defaultMessage:[{type:0,value:"No REST APIs are created yet"}]}))))}_.propTypes={apiResources:I().instanceOf(Array).isRequired,setApiResources:I().func.isRequired,isStateCreate:I().isRequired,api:I().isRequired,resourceNotFountMessage:I().string.isRequired};const U=_},375148:(e,t,r)=>{"use strict";r.d(t,{A:()=>E});var n=r(296540),a=r(311848),l=r(334339),i=r(561523),o=r(336575),c=r(670691),u=r(333198),s=r(853723),p=r(497796),d=r(323049),f=r(800373);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l,i,o=[],c=!0,u=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=l.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t,r){return(t=function(e){var t=function(e){if("object"!=m(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g="LinterUI",b={tableCell:"".concat(g,"-tableCell"),headerTableCell:"".concat(g,"-headerTableCell"),tableRow:"".concat(g,"-tableRow"),tableWrapper:"".concat(g,"-tableWrapper"),headerTableRow:"".concat(g,"-headerTableRow")},h=(0,a.Ay)(l.A)(function(e){var t=e.theme;return A(A(A(A(A({},"& .".concat(b.tableCell),{border:"none",fontSize:"10px !important"}),"& .".concat(b.headerTableCell),{background:t.palette.background.paper,fontSize:10,fontWeight:"bold",border:"none"}),"& .".concat(b.tableRow),{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},cursor:"pointer"}),"& .".concat(b.tableWrapper),{"& table tr td:first-of-type":{width:10},"& table tr td:nth-of-type(2)":{width:10}}),"& .".concat(b.headerTableRow),{display:"flex"})});function E(e){var t=y(n.useState(0),2),r=t[0],a=t[1],l=y(n.useState(10),2),m=l[0],v=l[1],A=e.linterResults,g=e.handleRowClick,E=[{id:"type",label:"Type",minWidth:50},{id:"line",label:"Line",minWidth:50},{id:"message",label:"Message",minWidth:170,align:"left"}],P=A.map(function(e,t){return{type:f.E7[e.severity],line:e.range.start.line+1,message:e.message,code:t}});return n.createElement(h,{sx:{width:"100%",overflow:"hidden"}},n.createElement(u.A,{sx:{maxHeight:440},className:b.tableWrapper},n.createElement(i.A,{stickyHeader:!0,"aria-label":"linter-table"},n.createElement(s.A,null,n.createElement(d.A,null,E.map(function(e){return n.createElement(c.A,{key:e.id,align:e.align,className:b.headerTableCell,style:{minWidth:e.minWidth}},e.label)}))),n.createElement(o.A,null,P.slice(r*m,r*m+m).map(function(e){return n.createElement(d.A,{key:e.code,className:b.tableRow,onClick:function(){return g(e.line)}},E.map(function(t){var r=e[t.id];return n.createElement(c.A,{key:t.id,align:t.align,className:b.tableCell},t.format&&"number"==typeof r?t.format(r):r)}))})))),n.createElement(p.A,{rowsPerPageOptions:[10,25,100],component:"div",count:P.length,rowsPerPage:m,page:r,onPageChange:function(e,t){a(t)},onRowsPerPageChange:function(e){v(+e.target.value),a(0)}}))}},427823:()=>{},511354:(e,t,r)=>{"use strict";r.d(t,{A:()=>le});var n=r(296540),a=r(311848),l=r(605556),i=r.n(l),o=r(653215),c=r(799020),u=r(301043),s=r(441340),p=r(901775),d=r(445359),f=r(569307),m=r(706442),y=r(958065),v=r(573357),A=r(725239),g=r(894017),b=r(51249),h=r(74010),E=r(149799),P=r(744635),S=r(801471),I=r(481385),O=r(19455),j=r(246e3),C=r(67034),w=r(444448),T=r(482241),L=r(620181),x=r.n(L),D=r(357210),M=r.n(D),R=r(448805),k=r(804686),N=r(395381),V=r(45136),W=r(449719),_=r(800373),U=r(474848),F=r(857873),B=r(640921),z=r(448719),G=r(233551),Q=r(216576),q=r(553313),Y=r(911692),J=r(375148),H=r(531199);function $(e){const{inputValue:t,isValidating:r,isLinting:a,linterResults:l,validationErrors:i,onLinterLineSelect:o}=e,[u,s]=(0,n.useState)(!0),[p,d]=(0,n.useState)(!1),[f,m]=(0,n.useState)(-1);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(c.Ay,{item:!0,xs:10,md:12,children:(0,U.jsxs)(E.A,{children:[t&&r&&(0,U.jsxs)(P.Ay,{children:[(0,U.jsx)(F.A,{children:(0,U.jsx)(v.A,{})}),(0,U.jsx)(T.A,{children:(0,U.jsx)(y.A,{id:"Apis.Create.OpenAPI.Steps.ValidationResults.validating",defaultMessage:"Validating API definition"})})]}),t&&!r&&a&&(0,U.jsxs)(P.Ay,{children:[(0,U.jsx)(F.A,{children:(0,U.jsx)(v.A,{})}),(0,U.jsx)(T.A,{children:(0,U.jsx)(y.A,{id:"Apis.Create.OpenAPI.Steps.ValidationResults.linting",defaultMessage:"Generating Linter Results"})})]})]})}),!r&&i.length>0&&(0,U.jsx)(c.Ay,{item:!0,xs:10,md:12,children:(0,U.jsxs)(B.A,{expanded:u,onChange:()=>{s(!u)},children:[(0,U.jsx)(z.A,{expandIcon:(0,U.jsx)(Y.A,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:(0,U.jsx)(c.Ay,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:(0,U.jsx)(G.A,{sx:{fontWeight:600},children:(0,U.jsx)(y.A,{id:"Apis.Create.OpenAPI.Steps.ValidationResults.validation.errros",defaultMessage:"Validation Errors"})})})}),(0,U.jsx)(Q.A,{children:(0,U.jsx)(E.A,{children:i.map(e=>(0,U.jsxs)(P.Ay,{children:[(0,U.jsx)(F.A,{children:_.E7[0]}),(0,U.jsxs)(T.A,{children:[(0,U.jsx)(G.A,{children:(0,U.jsx)(q.A,{sx:{fontWeight:"bold"},children:e.message})}),(0,U.jsx)(G.A,{children:e.description})]})]}))})})]})}),!a&&l.length>0&&(0,U.jsx)(c.Ay,{item:!0,xs:10,md:12,"data-testid":"itest-id-linter-results",sx:{pt:2},children:(0,U.jsxs)(B.A,{expanded:p,onChange:()=>{d(!p)},children:[(0,U.jsx)(z.A,{expandIcon:(0,U.jsx)(Y.A,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:(0,U.jsxs)(c.Ay,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,U.jsx)(G.A,{sx:{fontWeight:600},children:(0,U.jsx)(y.A,{id:"Apis.Create.OpenAPI.Steps.ValidationResults.linter.results",defaultMessage:"Linter Results"})}),(0,U.jsx)(H.A,{linterResults:l,handleChange:(e,t)=>{e.stopPropagation(),m(t),d(!0)}})]})}),(0,U.jsx)(Q.A,{style:{padding:0},children:(0,U.jsx)(J.A,{linterResults:l.filter(e=>-1===f||e.severity===Number(f)),severityMap:_.E7,handleRowClick:e=>{o&&o(e)}})})]})})]})}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(t){re(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l,i,o=[],c=!0,u=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=l.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function re(e,t,r){return(t=function(e){var t=function(e){if("object"!=Z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Z(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ne={mandatoryStar:"".concat("ProvideOpenAPI","-mandatoryStar")},ae=(0,a.Ay)("div")(function(e){var t=e.theme;return re({},"& .".concat(ne.mandatoryStar),{color:t.palette.error.main})});function le(e){var t=e.apiInputs,r=e.inputsDispatcher,a=e.onValidate,l=e.onLinterLineSelect,i=e.isMCPServer,L="file"===t.inputType,D=t.inputType,U=t.inputValue,F=ee((0,n.useState)({}),2),B=F[0],z=F[1],G=ee((0,n.useState)([]),2),Q=G[0],q=G[1],Y=ee((0,n.useState)([]),2),J=Y[0],H=Y[1],K=ee((0,n.useState)(!1),2),te=K[0],re=K[1],ie=ee((0,n.useState)(!1),2),oe=ie[0],ce=ie[1],ue=(0,m.A)();function se(e){ce(!0),(0,_.WH)(e,null,"HTTP").then(function(e){q(e||[])}).finally(function(){ce(!1)})}function pe(){ce(!1),q([]),H([]),r({action:"importingContent",value:null}),r({action:"inputValue",value:null}),r({action:"isFormValid",value:!1})}function de(e){if("string"!=typeof e)return!1;try{var t=JSON.parse(e);return t&&"object"===Z(t)}catch(e){return console.log("API definition is in not in JSON format"),!1}}var fe=(0,n.useCallback)(x()(function(e){i?N.A.validateOpenAPIByUrl(e,{returnContent:!0}).then(function(e){var t=e.body,n=t.isValid,l=t.info,i=t.content,o=t.errors;if(n){var c;if(se(c=de(i)?JSON.stringify(JSON.parse(i),null,2):JSON.stringify(M().load(i),null,2)),r({action:"importingContent",value:c}),l.content=i,l.operations){var u=l.operations.map(function(e){return{id:W.A.generateUUID(),target:e.target,verb:e.verb}});r({action:"operations",value:u})}r({action:"preSetAPI",value:l}),z(X(X({},B),{},{url:null})),H([])}else z(X(X({},B),{},{url:{message:ue.formatMessage({id:"Apis.Create.OpenAPI.create.api.openapi.content.validation.failed",defaultMessage:[{type:0,value:"OpenAPI content validation failed!"}]})}})),H(o);a(n),re(!1)}).catch(function(e){z({url:{message:e.message}}),a(!1),re(!1),console.error(e)}):k.A.validateOpenAPIByUrl(e,{returnContent:!0}).then(function(e){var t,n=e.body,l=n.isValid,i=n.info,o=n.content,c=n.errors;l?(se(t=de(o)?JSON.stringify(JSON.parse(o),null,2):JSON.stringify(M().load(o),null,2)),r({action:"importingContent",value:t}),i.content=o,r({action:"preSetAPI",value:i}),z(X(X({},B),{},{url:null})),H([])):(z(X(X({},B),{},{url:{message:ue.formatMessage({id:"Apis.Create.OpenAPI.create.api.openapi.content.validation.failed",defaultMessage:[{type:0,value:"OpenAPI content validation failed!"}]})}})),H(c)),a(l),re(!1)}).catch(function(e){z({url:{message:e.message}}),a(!1),re(!1),console.error(e)})},750),[]);function me(e){re(!0);var t=e.pop(),n=null;if(i)N.A.validateOpenAPIByFile(t).then(function(e){var a=e.body,l=a.isValid,i=a.info,o=a.errors;l?(n=t,r({action:"preSetAPI",value:i}),z(X(X({},B),{},{file:null}))):(z(X(X({},B),{},{file:{message:ue.formatMessage({id:"Apis.Create.OpenAPI.create.api.openapi.content.validation.failed",defaultMessage:[{type:0,value:"OpenAPI content validation failed!"}]})}})),H(o))}).catch(function(e){z(X(X({},B),{},{file:{message:ue.formatMessage({id:"Apis.Create.OpenAPI.create.api.openapi.content.validation.failed",defaultMessage:[{type:0,value:"OpenAPI content validation failed!"}]})}})),console.error(e)}).finally(function(){re(!1),a(null!==n),r({action:"inputValue",value:t})});else if(k.A.validateOpenAPIByFile(t).then(function(e){var a=e.body,l=a.isValid,i=a.info,o=a.errors;l?(n=t,r({action:"preSetAPI",value:i}),z(X(X({},B),{},{file:null}))):(z(X(X({},B),{},{file:{message:ue.formatMessage({id:"Apis.Create.OpenAPI.create.api.openapi.content.validation.failed",defaultMessage:[{type:0,value:"OpenAPI content validation failed!"}]})}})),H(o))}).catch(function(e){z(X(X({},B),{},{file:{message:ue.formatMessage({id:"Apis.Create.OpenAPI.create.api.openapi.content.validation.failed",defaultMessage:[{type:0,value:"OpenAPI content validation failed!"}]})}})),console.error(e)}).finally(function(){re(!1),a(null!==n),r({action:"inputValue",value:t})}),!t.path.endsWith(".zip")){var l=new FileReader;l.readAsText(t),l.onloadend=function(){var e,t=null===(e=l.result)||void 0===e?void 0:e.toString();r({action:"importingContent",value:t}),se(t)}}}(0,n.useEffect)(function(){pe()},[D]),(0,n.useEffect)(function(){U&&D===le.INPUT_TYPES.FILE&&me([U])},[D,U]);var ye=Boolean(B.url),ve=null;return te?ve=n.createElement(A.A,{position:"end"},n.createElement(v.A,null)):void 0!==B.url&&(ve=ye?n.createElement(A.A,{position:"end"},n.createElement(b.A,{fontSize:"large",color:"error"})):n.createElement(A.A,{position:"end",id:"url-validated"},n.createElement(g.A,{fontSize:"large",color:"primary"}))),n.createElement(ae,null,n.createElement(c.Ay,{container:!0},n.createElement(c.Ay,{item:!0,xs:12,sx:{mb:2}},n.createElement(d.A,{component:"fieldset"},n.createElement(f.A,{component:"legend"},n.createElement(n.Fragment,null,n.createElement("sup",{className:ne.mandatoryStar},"*")," ",n.createElement(y.A,{id:"Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.type",defaultMessage:[{type:0,value:"Input Type"}]}))),n.createElement(s.A,{"aria-label":"Input Source",value:t.inputType,onChange:function(e){return r({action:"inputType",value:e.target.value})}},n.createElement(p.A,{disabled:oe||te,value:le.INPUT_TYPES.URL,control:n.createElement(o.A,{color:"primary"}),label:ue.formatMessage({id:"Apis.Create.OpenAPI.create.api.form.url.label",defaultMessage:[{type:0,value:"OpenAPI URL"}]}),id:"open-api-url-select-radio"}),n.createElement(p.A,{disabled:oe||te,value:le.INPUT_TYPES.FILE,control:n.createElement(o.A,{color:"primary"}),label:ue.formatMessage({id:"Apis.Create.OpenAPI.create.api.form.file.label",defaultMessage:[{type:0,value:"OpenAPI File/Archive"}]}),"aria-label":"OpenAPI File/Archive",id:"open-api-file-select-radio"})))),n.createElement(c.Ay,{item:!0,xs:12},L?n.createElement(n.Fragment,null,t.inputValue?n.createElement(E.A,null,n.createElement(P.Ay,{key:t.inputValue.path},n.createElement(S.A,null,n.createElement(I.A,null,n.createElement(j.A,null))),n.createElement(T.A,{primary:"".concat(t.inputValue.path," -\n                                    ").concat((0,V.b)(t.inputValue.size))}),n.createElement(w.A,null,n.createElement(O.A,{edge:"end","aria-label":"delete",onClick:pe,size:"large"},n.createElement(C.default,null))))):n.createElement(V.A,{error:B.file,onDrop:me,files:t.inputValue,accept:".bz,.bz2,.gz,.rar,.tar,.zip,.7z,.json,application/json,.yaml"},te?n.createElement(v.A,null):[n.createElement(y.A,{id:"Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.file.dropzone",defaultMessage:[{type:0,value:"Drag & Drop Open API File/Archive here "},{type:1,value:"break"},{type:0,value:" or "},{type:1,value:"break"},{type:0,value:" Browse files"}],values:{break:n.createElement("br",null)}}),n.createElement(h.A,{color:"primary",variant:"contained",id:"browse-to-upload-btn",onClick:pe,sx:{mt:1}},n.createElement(y.A,{id:"Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.file.upload",defaultMessage:[{type:0,value:"Browse File to Upload"}]}))])):n.createElement(u.A,{autoFocus:!0,id:"outlined-full-width",label:ue.formatMessage({id:"Apis.Create.OpenAPI.create.api.url.label",defaultMessage:[{type:0,value:"OpenAPI URL"}]}),placeholder:ue.formatMessage({id:"Apis.Create.OpenAPI.create.api.url.placeholder",defaultMessage:[{type:0,value:"Enter OpenAPI URL"}]}),fullWidth:!0,margin:"normal",variant:"outlined",onChange:function(e){var t=e.target.value;return r({action:"inputValue",value:t})},value:t.inputValue,InputLabelProps:{shrink:!0},InputProps:{onBlur:function(e){var r,n;r=e.target.value,null===(n=R.A.url.required().validate(r).error)?(re(!0),fe(t.inputValue)):(z(X(X({},B),{},{url:n})),a(!1))},endAdornment:ve},helperText:B.url&&B.url.message||n.createElement(y.A,{id:"Apis.Create.OpenAPI.create.api.url.helper.text",defaultMessage:[{type:0,value:"Click away to validate the URL"}]}),error:ye,"data-testid":"swagger-url-endpoint"})),n.createElement($,{inputValue:U,isValidating:te,isLinting:oe,validationErrors:J,linterResults:Q,onLinterLineSelect:l}),n.createElement(c.Ay,{item:!0,xs:2,md:5})))}le.defaultProps={onValidate:function(){},isMCPServer:!1},le.INPUT_TYPES={URL:"url",FILE:"file"},le.propTypes={apiInputs:i().shape({type:i().string,inputType:i().string,inputValue:i().string}).isRequired,inputsDispatcher:i().func.isRequired,onValidate:i().func,isMCPServer:i().bool}},531199:(e,t,r)=>{"use strict";r.d(t,{A:()=>v});var n=r(474848),a=r(296540),l=r(311848),i=r(955987),o=r(958065),c=r(553313),u=r(800373),s=r(256655),p=r(799020),d=r(233551),f=r(783757),m=r(589289);const y=(0,l.Ay)(c.A)(({theme:e})=>({"& .APILintingSummary-activeButton":{"&:selected":{backgroundColor:e.palette.background.default}}})),v=(i.MK,e=>{const{linterResults:t,handleChange:r}=e,[l,i]=(0,a.useState)(null),v={};return t&&t.forEach(({severity:e})=>{v[e]=v[e]+1||1}),(0,n.jsxs)(y,{ml:3,children:[null===t&&(0,n.jsx)(o.A,{id:"Apis.Details.APIDefinition.Linting.APILintingSummary.loading",defaultMessage:"Linting . . ."}),t&&(0,n.jsx)(s.A,{title:Object.entries(u.Ov).map(([e,t])=>`${t}:${v[Number(e)]||0}${3!==Number(e)?", ":""}`||"-"),children:(0,n.jsx)(f.A,{exclusive:!0,value:l,size:"small",onChange:(e,t)=>{i(t),r(e,t)},children:Object.entries(u.E7).map(([e,t])=>(0,n.jsx)(m.A,{value:String(e),children:(0,n.jsxs)(c.A,{ml:1,display:"flex",children:[t,(0,n.jsx)(p.Ay,{item:!0,children:(0,n.jsx)(c.A,{maxWidth:"2rem",children:(0,n.jsxs)(d.A,{noWrap:!0,children:[" ",v[Number(e)]||0]})})})]})},Math.random()))})})]})})},651555:(e,t,r)=>{"use strict";r.d(t,{A:()=>B});var n=r(296540),a=r(311848),l=r(605556),i=r.n(l),o=r(653215),c=r(799020),u=r(301043),s=r(441340),p=r(901775),d=r(445359),f=r(569307),m=r(706442),y=r(958065),v=r(573357),A=r(725239),g=r(74010),b=r(149799),h=r(744635),E=r(801471),P=r(481385),S=r(19455),I=r(246e3),O=r(67034),j=r(444448),C=r(482241),w=r(51249),T=r(894017),L=r(448805),x=r(168810),D=r(121070),M=r(45136);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l,i,o=[],c=!0,u=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=l.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _(e,t,r){return(t=function(e){var t=function(e){if("object"!=R(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==R(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U={mandatoryStar:"".concat("ProvideWSDL","-mandatoryStar")},F=(0,a.Ay)("div")(function(e){var t=e.theme;return _({},"& .".concat(U.mandatoryStar),{color:t.palette.error.main})});function B(e){var t=e.apiInputs,r=e.inputsDispatcher,a=e.onValidate,l="file"===t.inputType,i="SOAPTOREST"===t.type,R=V((0,n.useState)(),2),k=R[0],W=R[1],_=V((0,n.useState)(!1),2),B=_[0],z=_[1],G="create"===t.mode,Q=(0,m.A)();function q(e,t){var r=e.body.isValid,n=!1;return r?(W(N(N({},k),{},"file"===t?{file:null}:{url:null})),n=!0):W(N(N({},k),{},"file"===t?{file:{message:Q.formatMessage({id:"Apis.Create.WSDL.content.validation.file.failed",defaultMessage:[{type:0,value:"WSDL content validation failed!"}]})}}:{url:{message:Q.formatMessage({id:"Apis.Create.WSDL.content.validation.url.failed",defaultMessage:[{type:0,value:"Invalid WSDL URL!"}]})}})),a(r),z(!1),n}function Y(e,t){var r=Q.formatMessage({id:"Apis.Create.WSDL.validation.error.response",defaultMessage:[{type:0,value:"Error occurred during validation"}]});e.response&&e.response.body.description&&(r=e.response.body.description),W(N(N({},k),{},"file"===t?{file:{message:r}}:{url:{message:r}})),z(!1)}var J=i?n.createElement(y.A,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.Input.file.dropzone",defaultMessage:[{type:0,value:"Drag & Drop WSDL file "},{type:1,value:"break"},{type:0,value:" -or-"}],values:{break:n.createElement("br",null)}}):n.createElement(y.A,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.Input.file.archive.dropzone",defaultMessage:[{type:0,value:"Drag & Drop WSDL file/archive "},{type:1,value:"break"},{type:0,value:" -or-"}],values:{break:n.createElement("br",null)}}),H=null;return B?H=n.createElement(A.A,{position:"end"},n.createElement(v.A,null)):k&&k.url?H=n.createElement(A.A,{position:"end"},n.createElement(w.A,{fontSize:"large",color:"error"})):k&&!k.url&&(H=n.createElement(A.A,{position:"end"},n.createElement(T.A,{fontSize:"large",color:"primary"}))),n.createElement(n.Fragment,null,n.createElement(c.Ay,{container:!0,spacing:5},G&&n.createElement(c.Ay,{item:!0,md:12},n.createElement(d.A,{component:"fieldset"},n.createElement(f.A,{component:"legend"},n.createElement(n.Fragment,null,n.createElement("sup",{className:U.mandatoryStar},"*")," ",n.createElement(y.A,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.implementation.type",defaultMessage:[{type:0,value:"Implementation Type"}]}))),n.createElement(s.A,{"aria-label":"Implementation type",value:t.type?t.type:"SOAP",onChange:function(e){r({action:"type",value:e.target.value}),r({action:"isFormValid",value:!1}),r({action:"inputValue",value:null}),r({action:"inputType",value:"url"})}},n.createElement(p.A,{value:"SOAP",control:n.createElement(o.A,{color:"primary"}),label:n.createElement(y.A,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.passthrough.label",defaultMessage:[{type:0,value:"Pass Through"}]})}),n.createElement(p.A,{value:"SOAPTOREST",control:n.createElement(o.A,{color:"primary"}),label:n.createElement(y.A,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.SOAPtoREST.label",defaultMessage:[{type:0,value:"Generate REST APIs"}]})})))),n.createElement(c.Ay,{item:!0,md:12},n.createElement(d.A,{component:"fieldset"},n.createElement(f.A,{component:"legend"},n.createElement(n.Fragment,null,n.createElement("sup",{className:U.mandatoryStar},"*")," ",n.createElement(y.A,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.Input.type",defaultMessage:[{type:0,value:"Input Type"}]}))),n.createElement(s.A,{"aria-label":"Input type",value:t.inputType,onChange:function(e){return r({action:"inputType",value:e.target.value})}},n.createElement(p.A,{value:"url",control:n.createElement(o.A,{color:"primary"}),label:n.createElement(y.A,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.url.label",defaultMessage:[{type:0,value:"WSDL URL"}]})}),n.createElement(p.A,{value:"file",control:n.createElement(o.A,{color:"primary"}),label:n.createElement(y.A,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.file.label.wsdl.file.archive",defaultMessage:[{type:0,value:"WSDL File/Archive"}]})})))),k&&k.file&&n.createElement(c.Ay,{item:!0,md:11},n.createElement(D.A,{onClose:function(){return W({file:null})},disableActions:!0,dense:!0,paperProps:{elevation:1},type:"error",message:k.file.message})),n.createElement(c.Ay,{item:!0,md:11},l?t.inputValue?n.createElement(b.A,null,n.createElement(h.Ay,{key:t.inputValue.path},n.createElement(E.A,null,n.createElement(P.A,null,n.createElement(I.A,null))),n.createElement(C.A,{primary:"".concat(t.inputValue.path," - ").concat((0,M.b)(t.inputValue.size))}),n.createElement(j.A,null,n.createElement(S.A,{edge:"end","aria-label":"delete",onClick:function(){r({action:"inputValue",value:null}),r({action:"isFormValid",value:!1})},size:"large"},n.createElement(O.default,null))))):n.createElement(M.A,{error:k&&k.file,onDrop:function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t?(z(!0),x.A.validateFileOrArchive(e).then(function(t){q(t,"file")&&r({action:"inputValue",value:e})}).catch(function(e){Y(e,"file")})):(W(N(N({},k),{},{file:t})),a(!1))}(e[0])},files:t.inputValue,accept:".bz,.bz2,.gz,.rar,.tar,.zip,.7z,.wsdl"},B?n.createElement(v.A,null):n.createElement(F,null,J,n.createElement(g.A,{color:"primary",variant:"contained"},n.createElement(y.A,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.Input.file.upload",defaultMessage:[{type:0,value:"Browse File to Upload"}]})))):n.createElement(u.A,{autoFocus:!0,id:"outlined-full-width",label:Q.formatMessage({id:"Apis.Create.WSDL.url.label",defaultMessage:[{type:0,value:"WSDL URL"}]}),placeholder:Q.formatMessage({id:"Apis.Create.WSDL.url.placeholder",defaultMessage:[{type:0,value:"Enter WSDL URL"}]}),fullWidth:!0,margin:"normal",variant:"outlined",onChange:function(e){var t=e.target.value;return r({action:"inputValue",value:t})},value:t.inputValue,InputLabelProps:{shrink:!0},InputProps:{onBlur:function(e){var r,n=e.target.value;null===(r=L.A.url.required().validate(n).error)?(z(!0),x.A.validateUrl(t.inputValue).then(function(e){q(e,"url")}).catch(function(e){Y(e,"url")})):(W(N(N({},k),{},{url:r})),a(!1))},endAdornment:H},helperText:k&&k.url&&k.url.message||Q.formatMessage({id:"Apis.Create.WSDL.url.helper.text",defaultMessage:[{type:0,value:"Click away to validate the URL"}]}),error:k&&Boolean(k.url),disabled:B}))))}B.defaultProps={onValidate:function(){}},B.propTypes={apiInputs:i().shape({type:i().string,inputType:i().string,mode:i().string}).isRequired,inputsDispatcher:i().func.isRequired,onValidate:i().func}},798516:()=>{},800373:(e,t,r)=>{"use strict";r.d(t,{E7:()=>h,Ov:()=>E,WH:()=>P});var n=r(474848),a=r(804686),l=r(912686),i=r(371371),o=r(981728),c=r(955987),u=r(803542),s=r(233755),p=r(406325),d=r(121447),f=r(475897),m=r(27738),y=r(784712),v=r(958065),A=function(e,t,r,n){return new(r||(r=Promise))(function(a,l){function i(e){try{c(n.next(e))}catch(e){l(e)}}function o(e){try{c(n.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}c((n=n.apply(e,t||[])).next())})};const g={alphabetical:i.alphabetical,casing:i.casing,defined:i.defined,enumeration:i.enumeration,falsy:i.falsy,length:i.length,pattern:i.pattern,truthy:i.truthy,undefined:i.undefined,unreferencedReusableObject:i.unreferencedReusableObject,xor:i.xor,schema:i.schema},b={oas2:o.oas2,oas3:o.oas3,oas3_0:o.oas3_0,oas3_1:o.oas3_1,aas2:o.aas2,aas2_0:o.aas2_0,aas2_1:o.aas2_1,aas2_2:o.aas2_2,aas2_3:o.aas2_3,aas2_4:o.aas2_4,aas2_5:o.aas2_5,aas2_6:o.aas2_6},h={0:(0,n.jsx)(d.A,{color:"error"}),1:(0,n.jsx)(p.A,{style:{color:s.A[500]}}),2:(0,n.jsx)(f.A,{color:"primary"}),3:(0,n.jsx)(m.A,{style:{color:u.A[500]}})},E={0:"Errors",1:"Warnings",2:"Info",3:"Hints"};function P(e,t,r){return A(this,void 0,void 0,function*(){let i=[];if(e){let o={extends:[c.MK],rules:{}};const u=new l.Spectral;u.setRuleset(o);try{yield u.run(e).then(e=>{e&&(i=i.concat(e))})}catch(e){console.error("OpenAPI linter default ruleset validation failed",e),y.A.error((0,n.jsx)(v.A,{id:"Apis.Details.APIDefinition.Linting.Linting.default.ruleset.validation.failed",defaultMessage:"OpenAPI linter default ruleset validation failed"}))}let s={};s=t?{apiId:t}:r?{apiType:r}:{apiType:"HTTP"};const p=yield a.A.getLinterCustomRules(s).then(e=>e).catch(e=>(console.log("Error retrieving custom linter rulesets",e),y.A.error((0,n.jsx)(v.A,{id:"Apis.Details.APIDefinition.Linting.Linting.error.retrieving.custom.rules",defaultMessage:"Error retrieving custom linter rulesets"})),[]));if(p&&p.length>0)for(const t of p)try{const r=JSON.parse(JSON.stringify(JSON.parse(t)),function(e,t){return"function"===e?g[t]:"formats"===e?t.map(e=>b[e]):t});u.setRuleset(r);const n=yield u.run(e);n&&(i=i.concat(n))}catch(e){e instanceof Error&&console.error("OpenAPI linter custom ruleset validation failed\n",e,e.stack),y.A.error((0,n.jsx)(v.A,{id:"Apis.Details.APIDefinition.Linting.Linting.custom.ruleset.validation.failed",defaultMessage:"OpenAPI linter custom ruleset validation failed"}))}i=i.sort(function(e,t){return e.severity<t.severity?-1:e.severity>t.severity?1:0})}return i})}},861158:(e,t,r)=>{"use strict";r.d(t,{A:()=>ae});var n=r(296540),a=r(311848),l=r(605556),i=r.n(l),o=r(653215),c=r(799020),u=r(301043),s=r(441340),p=r(901775),d=r(445359),f=r(569307),m=r(706442),y=r(958065),v=r(573357),A=r(725239),g=r(894017),b=r(51249),h=r(74010),E=r(149799),P=r(744635),S=r(801471),I=r(481385),O=r(19455),j=r(246e3),C=r(67034),w=r(444448),T=r(482241),L=r(121070),x=r(448805),D=r(804686),M=r(45136),R=r(345625),k=r(769554),N=r(233551),V=r(333198),W=r(334339),_=r(561523),U=r(853723),F=r(323049),B=r(670691),z=r(336575),G=r(961332),Q=r(449719),q=r(784712);function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l,i,o=[],c=!0,u=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=l.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const H=function(e){var t=e.apiInputs,r=e.inputsDispatcher,a=e.onSolaceEventApiSelect,l=Y((0,n.useState)([]),2),i=l[0],u=l[1],A=Y((0,n.useState)(!0),2),g=A[0],b=A[1],h=(0,m.A)();return(0,n.useEffect)(function(){b(!0),(new G.A).getAPIClient(Q.A.getCurrentEnvironment(),Q.A.CONST.API_CLIENT).client.then(function(e){e.apis["Integrated APIs"].getIntegratedAPIs({vendor:"solace"}).then(function(e){u(e.body)}).catch(function(e){q.A.error(h.formatMessage({id:"Apis.Create.AsyncAPI.SolaceEventApiProductFetcher.fetchError",defaultMessage:[{type:0,value:"Error occurred while fetching Solace Event API Products"}]})),console.error(e)}).finally(function(){b(!1)})})},[]),n.createElement(c.Ay,{container:!0},n.createElement(c.Ay,{item:!0,xs:12},g?n.createElement(v.A,null):0===i.length?n.createElement(N.A,null,n.createElement(y.A,{id:"Apis.Create.AsyncAPI.SolaceEventApiProductFetcher.noApisAvailable",defaultMessage:[{type:0,value:"No Solace Event API Products containing a single Solace Event API are available"}]})):n.createElement(s.A,{value:t.inputValue,onChange:function(e){var t=e.target.value;return r({action:"inputValue",value:t})},onBlur:function(e){return t=e.target.value,n=Y(t.split("/"),3),l=n[0],i=n[1],o=n[2],a(l,i,o),void r({action:"isFormValid",value:!0});var t,n,l,i,o}},n.createElement(d.A,null,n.createElement(f.A,{sx:{mb:2}},"Select the Solace Event API"),n.createElement(V.A,{component:W.A},n.createElement(_.A,null,n.createElement(U.A,null,n.createElement(F.A,null,n.createElement(B.A,null,h.formatMessage({id:"Apis.Create.AsyncAPI.SolaceEventApiProductFetcher.eventApi",defaultMessage:[{type:0,value:"Solace Event API"}]})),n.createElement(B.A,null,h.formatMessage({id:"Apis.Create.AsyncAPI.SolaceEventApiProductFetcher.plans",defaultMessage:[{type:0,value:"Solace Plans"}]})))),n.createElement(z.A,null,i.map(function(e){return n.createElement(F.A,{key:e.apiId},n.createElement(B.A,null,n.createElement(p.A,{control:n.createElement(o.A,null),label:e.apiName,value:e.apiId})),n.createElement(B.A,null,e.plans.map(function(e){return n.createElement(k.A,{key:e,label:e,sx:{mr:.5}})})))}))))))))};function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(t){te(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l,i,o=[],c=!0,u=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=l.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function te(e,t,r){return(t=function(e){var t=function(e){if("object"!=$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var re={mandatoryStar:"".concat("ProvideAsyncAPI","-mandatoryStar")},ne=(0,a.Ay)("div")(function(e){var t=e.theme;return te({},"& .".concat(re.mandatoryStar),{color:t.palette.error.main})});function ae(e){var t=e.apiInputs,r=e.inputsDispatcher,a=e.onValidate,l="file"===t.inputType,i=t.inputType,N=t.inputValue,V=Z((0,n.useState)({}),2),W=V[0],_=V[1],U=Z((0,n.useState)(!1),2),F=U[0],B=U[1],z=Z((0,n.useState)([]),2),Y=z[0],J=z[1],$=Z((0,n.useState)("wso2"),2),K=$[0],ee=$[1],te=(0,m.A)();function le(e){B(!0);var t=e.pop(),n=null;D.A.validateAsyncAPIByFile(t).then(function(e){var a=e.body,l=a.isValid,i=a.info,o=a.errors;ee(i.gatewayVendor),l?(n=t,r({action:"preSetAPI",value:i}),_(X(X({},W),{},{file:null}))):(_(X(X({},W),{},{file:{message:te.formatMessage({id:"Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.content.validation.failed",defaultMessage:[{type:0,value:"AsyncAPI content validation failed!"}]})}})),J(o))}).catch(function(e){_(X(X({},W),{},{file:{message:te.formatMessage({id:"Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.content.validation.failed",defaultMessage:[{type:0,value:"AsyncAPI content validation failed!"}]})}})),console.error(e)}).finally(function(){B(!1),a(null!==n),r({action:"inputValue",value:n})})}function ie(e){var n=x.A.url.required().validate(e).error;null===n?(B(!0),D.A.validateAsyncAPIByUrl(t.inputValue,{returnContent:!0}).then(function(e){var t=e.body,n=t.isValid,l=t.info,i=t.content,o=t.errors;n?(l.content=i,r({action:"preSetAPI",value:l}),_(X(X({},W),{},{url:null}))):(_(X(X({},W),{},{url:{message:te.formatMessage({id:"Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.content.validation.failed",defaultMessage:[{type:0,value:"AsyncAPI content validation failed!"}]})}})),J(o)),a(n),B(!1)}).catch(function(e){_({url:{message:e.message}}),a(!1),B(!1),console.error(e)})):(_(X(X({},W),{},{url:n})),a(!1))}(0,n.useEffect)(function(){N&&(i===ae.INPUT_TYPES.FILE?le([N]):i===ae.INPUT_TYPES.URL&&ie(N))},[i,N]);var oe=Boolean(W.url),ce=null;F?ce=n.createElement(A.A,{position:"end"},n.createElement(v.A,null)):void 0!==W.url&&(ce=oe?n.createElement(A.A,{position:"end"},n.createElement(b.A,{fontSize:"large",color:"error"})):n.createElement(A.A,{position:"end"},n.createElement(g.A,{fontSize:"large",color:"primary"})));var ue;return ue=l?n.createElement(n.Fragment,null,t.inputValue?n.createElement(E.A,null,n.createElement(P.Ay,{key:t.inputValue.path},n.createElement(S.A,null,n.createElement(I.A,null,n.createElement(j.A,null))),n.createElement(T.A,{primary:"".concat(t.inputValue.path," -\n                                    ").concat((0,M.b)(t.inputValue.size))}),n.createElement(w.A,null,n.createElement(O.A,{edge:"end","aria-label":"delete",onClick:function(){r({action:"inputValue",value:null}),r({action:"isFormValid",value:!1})}},n.createElement(C.default,null))))):n.createElement(M.A,{error:W.file,onDrop:le,files:t.inputValue,accept:".bz,.bz2,.gz,.rar,.tar,.zip,.7z,.json,application/json,.yaml,.yml"},F?n.createElement(v.A,null):[n.createElement(y.A,{id:"Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.Input.file.dropzone",defaultMessage:[{type:0,value:"Drag & Drop AsyncAPI File here "},{type:1,value:"break"},{type:0,value:" or "},{type:1,value:"break"},{type:0,value:" Browse files"}],values:{break:n.createElement("br",null)}}),n.createElement(h.A,{color:"primary",variant:"contained"},n.createElement(y.A,{id:"Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.Input.file.upload",defaultMessage:[{type:0,value:"Browse File to Upload"}]}))])):"solaceEventApiProductId"===t.inputType?n.createElement(H,{apiInputs:t,inputsDispatcher:r,onSolaceEventApiSelect:function(e,t,n){B(!0),(new G.A).getAPIClient(Q.A.getCurrentEnvironment(),Q.A.CONST.API_CLIENT).client.then(function(a){var l={eventApiProductId:e,planId:t,eventApiId:n},i=JSON.stringify(l),o=encodeURIComponent(i);a.apis["Integrated APIs"].getIntegratedApiDefinition({vendor:"solace",params:{params:o}}).then(function(e){var t=e.body,n=[];t.servers&&Object.values(t.servers).forEach(function(e){n.push(e.protocol)});var a={asyncAPIVersion:t.asyncapi,gatewayVendor:"solace",name:t.info.title,version:t.info.version,context:t.info.title.replace(/[&/\\#,+()$~%.'":*?<>{}\s]/g,"").toLowerCase(),asyncTransportProtocols:n};r({action:"preSetAPI",value:a})}).catch(function(e){q.A.error("Error loading Event API Async API"),console.error("Error loading Event API Async API",e)}).finally(function(){B(!1)})})}}):n.createElement(u.A,{autoFocus:!0,id:"outlined-full-width",label:"AsyncAPI URL",placeholder:"Enter AsyncAPI URL",fullWidth:!0,margin:"normal",variant:"outlined",onChange:function(e){var t=e.target.value;return r({action:"inputValue",value:t})},value:t.inputValue,InputLabelProps:{shrink:!0},InputProps:{onBlur:function(e){ie(e.target.value)},endAdornment:ce},helperText:W.url&&W.url.message||"Click away to validate the URL",error:oe}),n.createElement(ne,null,n.createElement(c.Ay,{container:!0},n.createElement(c.Ay,{item:!0,xs:12,sx:{mb:2}},n.createElement(d.A,{component:"fieldset"},n.createElement(f.A,{component:"legend"},n.createElement(n.Fragment,null,n.createElement("sup",{className:re.mandatoryStar},"*")," ",n.createElement(y.A,{id:"Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.Input.type",defaultMessage:[{type:0,value:"Input Type"}]}))),n.createElement(s.A,{"aria-label":"Input type",value:t.inputType,onChange:function(e){return r({action:"inputType",value:e.target.value})}},n.createElement(p.A,{"data-testid":"input-asyncapi-url",value:ae.INPUT_TYPES.URL,control:n.createElement(o.A,{color:"primary"}),label:te.formatMessage({id:"Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.url.label",defaultMessage:[{type:0,value:"AsyncAPI URL"}]})}),n.createElement(p.A,{"data-testid":"input-asyncapi-file",value:ae.INPUT_TYPES.FILE,control:n.createElement(o.A,{color:"primary"}),label:te.formatMessage({id:"Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.file.label",defaultMessage:[{type:0,value:"AsyncAPI File"}]})}),n.createElement(p.A,{"data-testid":"input-asyncapi-solace",value:ae.INPUT_TYPES.SOLACE_EVENT_API_PRODUCT_ID,control:n.createElement(o.A,{color:"primary"}),label:te.formatMessage({id:"Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.solace.label",defaultMessage:[{type:0,value:"Solace Event API"}]})})))),W.file&&n.createElement(c.Ay,{item:!0,md:12},n.createElement(L.A,{onClose:function(){return _({file:null})},disableActions:!0,dense:!0,paperProps:{elevation:1},type:"error",message:W.file.message,errors:Y})),n.createElement(c.Ay,{item:!0,xs:12},ue),"solace"===K&&n.createElement(c.Ay,{item:!0,xs:10,md:11},n.createElement(k.A,{"data-testid":"solace-api-label",label:te.formatMessage({id:"Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.solace.api.label",defaultMessage:[{type:0,value:"Identified as Solace Event Portal API"}]}),icon:n.createElement(R.A,{style:{color:"green"}}),variant:"outlined",style:{color:"green"}})),n.createElement(c.Ay,{item:!0,xs:2,md:5})))}ae.defaultProps={onValidate:function(){}},ae.INPUT_TYPES={URL:"url",FILE:"file",SOLACE_EVENT_API_PRODUCT_ID:"solaceEventApiProductId"},ae.propTypes={apiInputs:i().shape({type:i().string,inputType:i().string,inputValue:i().string}).isRequired,inputsDispatcher:i().func.isRequired,onValidate:i().func}},867266:()=>{}}]);
//# sourceMappingURL=2861.0a7939a3633db3f82af2.bundle.js.map