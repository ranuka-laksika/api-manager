"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,o=(e=require("react"))&&"object"==typeof e&&"default"in e?e.default:e,r=require("react-use");function t(){return(t=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}exports.OverflowList=function(e){var n=e.items,i=e.collapseFrom,l=void 0===i?"end":i,f=e.minVisibleItems,u=void 0===f?0:f,s=e.tagName,v=void 0===s?"div":s,a=e.className,c=void 0===a?"":a,w=e.alwaysRenderOverflow,d=void 0!==w&&w,p=e.overflowRenderer,h=e.itemRenderer,m=o.useState({visible:n,overflow:[],lastOverflowCount:0,overflowDirection:"none"}),b=m[0],O=m[1],g=o.useRef(null);r.useShallowCompareEffect((function(){C(!1)}),[b]),r.useMount((function(){C(!1)})),r.useUpdateEffect((function(){O((function(){return{overflowDirection:"none",lastOverflowCount:0,overflow:[],visible:n}}))}),[n]);var y=v,D=0!==b.overflow.length||d?p(b.overflow):null,C=function(o){g.current&&(o?O((function(o){return{overflowDirection:"grow",lastOverflowCount:"none"===o.overflowDirection?o.overflow.length:o.lastOverflowCount,overflow:[],visible:e.items}})):g.current.getBoundingClientRect().width<.9?O((function(e){if(e.visible.length<=u)return e;var o="start"===l,r=e.visible.slice(),n=o?r.shift():r.pop();if(!n)return e;var i=o?[].concat(e.overflow,[n]):[n].concat(e.overflow);return t({},e,{direction:"none"===e.overflowDirection?"shrink":e.overflowDirection,overflow:i,visible:r})})):O((function(e){return t({},e,{overflowDirection:"none"})})))},x=r.useMeasure(),E=x[0],R=x[1].width,j=r.usePrevious(R);return o.useEffect((function(){j&&C(R>j)}),[R,j]),o.createElement(y,{ref:E,className:c,style:{display:"flex",flexWrap:"nowrap",minWidth:0}},"start"===l?D:null,b.visible.map(h),"end"===l?D:null,o.createElement("div",{style:{flexShrink:1,width:1},ref:g}))};
//# sourceMappingURL=react-overflow-list.cjs.production.min.js.map
